{"name":"TonupTosRegistryV2","code":"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","abi":"{\"name\":\"TonupTosRegistryV2\",\"types\":[{\"name\":\"StateInit\",\"header\":null,\"fields\":[{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":false}}]},{\"name\":\"Context\",\"header\":null,\"fields\":[{\"name\":\"bounced\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"raw\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false}}]},{\"name\":\"SendParameters\",\"header\":null,\"fields\":[{\"name\":\"bounce\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}},{\"name\":\"to\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"mode\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"body\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"code\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"data\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"Deploy\",\"header\":2490013878,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"DeployOk\",\"header\":2952335191,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"FactoryDeploy\",\"header\":1829761339,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"cashback\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwner\",\"header\":2174598809,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"ChangeOwnerOk\",\"header\":846932810,\"fields\":[{\"name\":\"queryId\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"newOwner\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"JettonTransfer\",\"header\":260734629,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"response_destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}},{\"name\":\"custom_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}},{\"name\":\"forward_ton_amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"forward_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"JettonTransferNotification\",\"header\":1935855772,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"forward_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"slice\",\"optional\":false,\"format\":\"remainder\"}}]},{\"name\":\"JettonBurn\",\"header\":1499400124,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"response_destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"custom_payload\",\"type\":{\"kind\":\"simple\",\"type\":\"cell\",\"optional\":true}}]},{\"name\":\"JettonBurnNotification\",\"header\":2078119902,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"sender\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"response_destination\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":true}}]},{\"name\":\"JettonExcesses\",\"header\":3576854235,\"fields\":[{\"name\":\"query_id\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":64}}]},{\"name\":\"ConsentReply\",\"header\":3418464814,\"fields\":[{\"name\":\"addr\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"accepted\",\"type\":{\"kind\":\"simple\",\"type\":\"bool\",\"optional\":false}}]},{\"name\":\"GiveConsent\",\"header\":2889876297,\"fields\":[{\"name\":\"addr\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"referrer\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]},{\"name\":\"RescueJetton\",\"header\":3835594867,\"fields\":[{\"name\":\"jetton_wallet_address\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"amount\",\"type\":{\"kind\":\"simple\",\"type\":\"uint\",\"optional\":false,\"format\":\"coins\"}},{\"name\":\"receiver\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}]}],\"receivers\":[{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"ConsentReply\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"fund gas\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"text\",\"text\":\"withdraw dust\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"RescueJetton\"}},{\"receiver\":\"internal\",\"message\":{\"kind\":\"typed\",\"type\":\"Deploy\"}}],\"getters\":[{\"name\":\"msg_value\",\"arguments\":[{\"name\":\"value\",\"type\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"userChildAddress\",\"arguments\":[{\"name\":\"user\",\"type\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}},{\"name\":\"consentMessage\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"string\",\"optional\":false}},{\"name\":\"currentVersion\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"numberUsers\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"balance\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"int\",\"optional\":false,\"format\":257}},{\"name\":\"owner\",\"arguments\":[],\"returnType\":{\"kind\":\"simple\",\"type\":\"address\",\"optional\":false}}],\"errors\":{\"2\":{\"message\":\"Stack undeflow\"},\"3\":{\"message\":\"Stack overflow\"},\"4\":{\"message\":\"Integer overflow\"},\"5\":{\"message\":\"Integer out of expected range\"},\"6\":{\"message\":\"Invalid opcode\"},\"7\":{\"message\":\"Type check error\"},\"8\":{\"message\":\"Cell overflow\"},\"9\":{\"message\":\"Cell underflow\"},\"10\":{\"message\":\"Dictionary error\"},\"13\":{\"message\":\"Out of gas error\"},\"32\":{\"message\":\"Method ID not found\"},\"34\":{\"message\":\"Action is invalid or not supported\"},\"37\":{\"message\":\"Not enough TON\"},\"38\":{\"message\":\"Not enough extra-currencies\"},\"128\":{\"message\":\"Null reference exception\"},\"129\":{\"message\":\"Invalid serialization prefix\"},\"130\":{\"message\":\"Invalid incoming message\"},\"131\":{\"message\":\"Constraints error\"},\"132\":{\"message\":\"Access denied\"},\"133\":{\"message\":\"Contract stopped\"},\"134\":{\"message\":\"Invalid argument\"},\"135\":{\"message\":\"Code of a contract was not found\"},\"136\":{\"message\":\"Invalid address\"},\"137\":{\"message\":\"Masterchain support is not enabled for this contract\"},\"4023\":{\"message\":\"Strlib::ss_address_to_hex: Invalid address\"},\"4159\":{\"message\":\"Invalid value!!\"},\"5047\":{\"message\":\"Strlib::ss_parse_address: Invalid address\"},\"10368\":{\"message\":\"Strlib::toBase64: Base64 string too long\"},\"14117\":{\"message\":\"Strlib::_strlib_crc16: Invalid data\"},\"19149\":{\"message\":\"Unreachable\"},\"28512\":{\"message\":\"Already consented\"},\"29763\":{\"message\":\"Consent error\"},\"33150\":{\"message\":\"Not enough gas\"},\"49729\":{\"message\":\"Unauthorized\"}},\"interfaces\":[\"org.ton.introspection.v0\",\"org.ton.abi.ipfs.v0\",\"org.ton.deploy.lazy.v0\",\"org.ton.chain.workchain.v0\",\"org.ton.ownable\"]}","init":{"kind":"direct","args":[{"name":"owner","type":{"kind":"simple","type":"address","optional":false}}],"prefix":{"bits":1,"value":0},"deployment":{"kind":"system-cell","system":"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"}},"sources":{"contracts/utils/extra.fc":"Ozs7IENvbXB1dGVzIHRoZSB4b3Igb2YgdHdvIGludGVnZXJzIFt4XSBhbmQgW3ldLgppbnQgeG9yKGludCB4LCBpbnQgeSkgYXNtICJYT1IiOwoKOzs7IENoZWNrcyB3aGV0aGVyIHRoZSBkYXRhIHBhcnRzIG9mIHR3byBzbGljZXMgY29pbnNpZGUKaW50IGVxdWFsX3NsaWNlcyhzbGljZSBhLCBzbGljZSBiKSBhc20gIlNERVEiOw==","contracts/utils/transfer_helpers.tact":"Ly8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBR1BMLTMuMAovLy8gQ29weXJpZ2h0IChDKSBNaWNyb2Nvc20gTGFicyAyMDIzCi8vLyBUYWN0IHRyYW5zZmVyIGhlbHBlciBsaWJyYXJ5Ci8vLyBBdXRob3I6IEAwa2VueAovLy8gVmVyc2lvbjogMC4yLjAKLy8vIEdpdEh1YjogaHR0cHM6Ly9naXRodWIuY29tL21pY3JvY29zbS1sYWJzCgptZXNzYWdlKDB4ZjhhN2VhNSkgSmV0dG9uVHJhbnNmZXIgewogICAgcXVlcnlfaWQ6IEludCBhcyB1aW50NjQ7CiAgICBhbW91bnQ6IEludCBhcyBjb2luczsKICAgIGRlc3RpbmF0aW9uOiBBZGRyZXNzOwogICAgcmVzcG9uc2VfZGVzdGluYXRpb246IEFkZHJlc3M/OwogICAgY3VzdG9tX3BheWxvYWQ6IENlbGw/OwogICAgZm9yd2FyZF90b25fYW1vdW50OiBJbnQgYXMgY29pbnM7CiAgICBmb3J3YXJkX3BheWxvYWQ6IFNsaWNlIGFzIHJlbWFpbmluZzsKfQoKbWVzc2FnZSgweDczNjJkMDljKSBKZXR0b25UcmFuc2Zlck5vdGlmaWNhdGlvbiB7CiAgICBxdWVyeV9pZDogSW50IGFzIHVpbnQ2NDsKICAgIGFtb3VudDogSW50IGFzIGNvaW5zOwogICAgc2VuZGVyOiBBZGRyZXNzOwogICAgZm9yd2FyZF9wYXlsb2FkOiBTbGljZSBhcyByZW1haW5pbmc7Cn0KCm1lc3NhZ2UoMHg1OTVmMDdiYykgSmV0dG9uQnVybiB7CiAgICBxdWVyeV9pZDogSW50IGFzIHVpbnQ2NDsKICAgIGFtb3VudDogSW50IGFzIGNvaW5zOwogICAgcmVzcG9uc2VfZGVzdGluYXRpb246IEFkZHJlc3M7CiAgICBjdXN0b21fcGF5bG9hZDogQ2VsbD87Cn0KCm1lc3NhZ2UoMHg3YmRkOTdkZSkgSmV0dG9uQnVybk5vdGlmaWNhdGlvbiB7CiAgICBxdWVyeV9pZDogSW50IGFzIHVpbnQ2NDsKICAgIGFtb3VudDogSW50IGFzIGNvaW5zOwogICAgc2VuZGVyOiBBZGRyZXNzOwogICAgcmVzcG9uc2VfZGVzdGluYXRpb246IEFkZHJlc3M/Owp9CgptZXNzYWdlKDB4ZDUzMjc2ZGIpIEpldHRvbkV4Y2Vzc2VzIHsKICAgIHF1ZXJ5X2lkOiBJbnQgYXMgdWludDY0Owp9CgpleHRlbmRzIGlubGluZSBmdW4gc2VuZF90byhzZWxmOiBDZWxsLCB0bzogQWRkcmVzcykgewogICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICB0bzogdG8sCiAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUgKyBTZW5kSWdub3JlRXJyb3JzLAogICAgICAgIGJvZHk6IHNlbGYKICAgIH0pOwp9CgpleHRlbmRzIGlubGluZSBmdW4gc2VuZF9hbmRfZGVwbG95KHNlbGY6IENlbGwsIHRvOiBTdGF0ZUluaXQpIHsKICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgdG86IGNvbnRyYWN0QWRkcmVzcyh0byksCiAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgYm91bmNlOiBmYWxzZSwKICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUgKyBTZW5kSWdub3JlRXJyb3JzLAogICAgICAgIGJvZHk6IHNlbGYsCiAgICAgICAgY29kZTogdG8uY29kZSwKICAgICAgICBkYXRhOiB0by5kYXRhCiAgICB9KTsKfQoKZXh0ZW5kcyBpbmxpbmUgZnVuIHJlcGx5KHNlbGY6IENlbGwpIHsKICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgdG86IHNlbmRlcigpLAogICAgICAgIHZhbHVlOiAwLAogICAgICAgIGJvdW5jZTogZmFsc2UsCiAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ1ZhbHVlICsgU2VuZElnbm9yZUVycm9ycywKICAgICAgICBib2R5OiBzZWxmCiAgICB9KTsKfQoKZXh0ZW5kcyBpbmxpbmUgZnVuIHJlcGx5X3ZhbHVlKHNlbGY6IENlbGwsIHZhbHVlOiBJbnQpIHsKICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgdG86IHNlbmRlcigpLAogICAgICAgIHZhbHVlOiB2YWx1ZSwKICAgICAgICBib3VuY2U6IGZhbHNlLAogICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMsCiAgICAgICAgYm9keTogc2VsZgogICAgfSk7Cn0KCi8vLyBSZWZ1bmQgYWxsIHJlbWFpbmluZyB2YWx1ZSB0byBzZW5kZXIKLy8vIFRoZSBjb250cmFjdCB3b3VsZCBwYXkgYXBwcm94aW1hdGVseSAwLjAxIFRPTiAKaW5saW5lIGZ1biByZWZ1bmRfZ2FzKCkgewogICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICB0bzogc2VuZGVyKCksCiAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgbW9kZTogU2VuZFJlbWFpbmluZ1ZhbHVlICsgU2VuZElnbm9yZUVycm9ycywKICAgICAgICBib3VuY2U6IGZhbHNlCiAgICB9KTsKfQoKaW5saW5lIGZ1biByZWZ1bmRfZ2FzX3RvX3VzZXIodXNlcjogQWRkcmVzcykgewogICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICB0bzogdXNlciwKICAgICAgICB2YWx1ZTogMCwKICAgICAgICBtb2RlOiBTZW5kUmVtYWluaW5nVmFsdWUgKyBTZW5kSWdub3JlRXJyb3JzLAogICAgICAgIGJvdW5jZTogZmFsc2UKICAgIH0pOwp9CgppbmxpbmUgZnVuIHNlbmRfdG9uKAogICAgdG86IEFkZHJlc3MsIAogICAgdmFsdWU6IEludCwgCiAgICBib3VuY2U6IEJvb2wsIAogICAgYm9keTogQ2VsbD8gCikgewogICAgaWYgKHZhbHVlID4gMCkgewogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSwgCiAgICAgICAgICAgIHRvOiB0bywgCiAgICAgICAgICAgIGJvdW5jZTogYm91bmNlLCAKICAgICAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycywgCiAgICAgICAgICAgIGJvZHk6IGJvZHkgCiAgICAgICAgfSk7CiAgICB9Cn0KCmlubGluZSBmdW4gc2VuZF90b25fd2l0aF9yYW1haW5pbmcoCiAgICB0bzogQWRkcmVzcywgCiAgICB2YWx1ZTogSW50LCAKICAgIGJvdW5jZTogQm9vbCwgCiAgICBib2R5OiBDZWxsPwopIHsKICAgIGlmICh2YWx1ZSA+IDApIHsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB2YWx1ZTogdmFsdWUsIAogICAgICAgICAgICB0bzogdG8sIAogICAgICAgICAgICBib3VuY2U6IGJvdW5jZSwgCiAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMgKyBTZW5kUmVtYWluaW5nVmFsdWUsIAogICAgICAgICAgICBib2R5OiBib2R5CiAgICAgICAgfSk7CiAgICB9Cn0KCmlubGluZSBmdW4gc2VuZF90b25fdGV4dCgKICAgIHRvOiBBZGRyZXNzLCAKICAgIHZhbHVlOiBJbnQsIAogICAgYm91bmNlOiBCb29sLCAKICAgIG1zZzogU3RyaW5nIAopIHsKICAgIGlmICh2YWx1ZSA+IDApIHsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB2YWx1ZTogdmFsdWUsIAogICAgICAgICAgICB0bzogdG8sIAogICAgICAgICAgICBib3VuY2U6IGJvdW5jZSwgCiAgICAgICAgICAgIG1vZGU6IFNlbmRJZ25vcmVFcnJvcnMsIAogICAgICAgICAgICBib2R5OiBtc2cuYXNTbGljZSgpLmFzQ2VsbCgpCiAgICAgICAgfSk7CiAgICB9Cn0KCmlubGluZSBmdW4gc2VuZF90b25fd2l0aF9yYW1haW5pbmdfdGV4dCgKICAgIHRvOiBBZGRyZXNzLCAKICAgIHZhbHVlOiBJbnQsIAogICAgYm91bmNlOiBCb29sLCAKICAgIG1zZzogU3RyaW5nCikgewogICAgaWYgKHZhbHVlID4gMCkgewogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSwgCiAgICAgICAgICAgIHRvOiB0bywgCiAgICAgICAgICAgIGJvdW5jZTogYm91bmNlLCAKICAgICAgICAgICAgbW9kZTogU2VuZElnbm9yZUVycm9ycyArIFNlbmRSZW1haW5pbmdWYWx1ZSwgCiAgICAgICAgICAgIGJvZHk6IG1zZy5hc1NsaWNlKCkuYXNDZWxsKCkKICAgICAgICB9KTsKICAgIH0KfQoKLy8vIGBqZXR0b25fYWRkcmVzc2A6IG15IGpldHRvbiB3YWxsZXQgYWRkcmVzcwovLy8gYHRvYDogZGVzdGluYXRpb24gdXNlciBhZGRyZXNzIChzbWFydCBjb250cmFjdCBvciB3YWxsZXQgY29udHJhY3QpCi8vLyBgYW1vdW50YDogYW1vdW50IG9mIGpldHRvbiB0byBzZW5kCi8vLyBgcXVlcnlfaWRgOiBjdXN0b20gcXVlcnkgaWQKLy8vIGBib3VuY2VgOiBib3VuY2UgZmxhZwovLy8gYGZvcndhcmRfcGF5bG9hZGA6IHBheWxvYWQgdG8gZm9yd2FyZCBhcyBKZXR0b25Ob3RpZmljYXRpb24gdG8gZGVzdGluYXRpb24ncyB1c2VyIGFkZHJlc3MKaW5saW5lIGZ1biBzZW5kX2pldHRvbigKICAgIGpldHRvbl9hZGRyZXNzOiBBZGRyZXNzLCAKICAgIHRvOiBBZGRyZXNzLCAKICAgIGFtb3VudDogSW50LCAKICAgIHF1ZXJ5X2lkOiBJbnQsIAogICAgYm91bmNlOiBCb29sLAogICAgZm9yd2FyZF9wYXlsb2FkOiBTbGljZQopIHsKICAgIGlmIChhbW91bnQgPiAwKSB7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdmFsdWU6IHRvbigiMC4xIiksIAogICAgICAgICAgICB0bzogamV0dG9uX2FkZHJlc3MsIAogICAgICAgICAgICBtb2RlOiAwLAogICAgICAgICAgICBib2R5OiBKZXR0b25UcmFuc2ZlciB7CiAgICAgICAgICAgICAgICBxdWVyeV9pZDogcXVlcnlfaWQsCiAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudCwKICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiB0bywKICAgICAgICAgICAgICAgIHJlc3BvbnNlX2Rlc3RpbmF0aW9uOiBteUFkZHJlc3MoKSwKICAgICAgICAgICAgICAgIGN1c3RvbV9wYXlsb2FkOiBudWxsLAogICAgICAgICAgICAgICAgZm9yd2FyZF90b25fYW1vdW50OiB0b24oIjAuMDEiKSwgIC8vIGZvcndhcmQgZm9yIG5vdGlmaWNhdGlvbgogICAgICAgICAgICAgICAgZm9yd2FyZF9wYXlsb2FkOiBmb3J3YXJkX3BheWxvYWQKICAgICAgICAgICAgfS50b0NlbGwoKSwKICAgICAgICAgICAgYm91bmNlOiBib3VuY2UgCiAgICAgICAgfSk7CiAgICB9Cn0KCmlubGluZSBmdW4gc2VuZF9qZXR0b25fd2l0aF90b24oCiAgICBqZXR0b25fYWRkcmVzczogQWRkcmVzcywgCiAgICB0bzogQWRkcmVzcywgCiAgICBhbW91bnQ6IEludCwgCiAgICBhbW91bnRfdG9uOiBJbnQsCiAgICBxdWVyeV9pZDogSW50LCAKICAgIGJvdW5jZTogQm9vbCwKICAgIGZvcndhcmRfcGF5bG9hZDogU2xpY2UKKSB7CiAgICBpZiAoYW1vdW50ID4gMCkgewogICAgICAgIHNlbmQoU2VuZFBhcmFtZXRlcnN7CiAgICAgICAgICAgIHZhbHVlOiB0b24oIjAuMSIpICsgYW1vdW50X3RvbiwgCiAgICAgICAgICAgIHRvOiBqZXR0b25fYWRkcmVzcywgCiAgICAgICAgICAgIG1vZGU6IDAsCiAgICAgICAgICAgIGJvZHk6IEpldHRvblRyYW5zZmVyIHsKICAgICAgICAgICAgICAgIHF1ZXJ5X2lkOiBxdWVyeV9pZCwKICAgICAgICAgICAgICAgIGFtb3VudDogYW1vdW50LAogICAgICAgICAgICAgICAgZGVzdGluYXRpb246IHRvLAogICAgICAgICAgICAgICAgcmVzcG9uc2VfZGVzdGluYXRpb246IG15QWRkcmVzcygpLAogICAgICAgICAgICAgICAgY3VzdG9tX3BheWxvYWQ6IG51bGwsCiAgICAgICAgICAgICAgICBmb3J3YXJkX3Rvbl9hbW91bnQ6IGFtb3VudF90b24sCiAgICAgICAgICAgICAgICBmb3J3YXJkX3BheWxvYWQ6IGZvcndhcmRfcGF5bG9hZAogICAgICAgICAgICB9LnRvQ2VsbCgpLAogICAgICAgICAgICBib3VuY2U6IGJvdW5jZSAKICAgICAgICB9KTsKICAgIH0KfQoKaW5saW5lIGZ1biBzZW5kX2pldHRvbl90ZXh0KAogICAgamV0dG9uX2FkZHJlc3M6IEFkZHJlc3MsIAogICAgdG86IEFkZHJlc3MsIAogICAgYW1vdW50OiBJbnQsIAogICAgcXVlcnlfaWQ6IEludCwgCiAgICBib3VuY2U6IEJvb2wsCiAgICBmb3J3YXJkX3BheWxvYWQ6IFN0cmluZwopIHsKICAgIGlmIChhbW91bnQgPiAwKSB7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdmFsdWU6IHRvbigiMC4xIiksIAogICAgICAgICAgICB0bzogamV0dG9uX2FkZHJlc3MsIAogICAgICAgICAgICBtb2RlOiAwLAogICAgICAgICAgICBib2R5OiBKZXR0b25UcmFuc2ZlciB7CiAgICAgICAgICAgICAgICBxdWVyeV9pZDogcXVlcnlfaWQsCiAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudCwKICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiB0bywKICAgICAgICAgICAgICAgIHJlc3BvbnNlX2Rlc3RpbmF0aW9uOiBteUFkZHJlc3MoKSwKICAgICAgICAgICAgICAgIGN1c3RvbV9wYXlsb2FkOiBudWxsLAogICAgICAgICAgICAgICAgZm9yd2FyZF90b25fYW1vdW50OiB0b24oIjAuMDEiKSwgIC8vIGZvcndhcmQgZm9yIG5vdGlmaWNhdGlvbgogICAgICAgICAgICAgICAgZm9yd2FyZF9wYXlsb2FkOiBmb3J3YXJkX3BheWxvYWQuYXNTbGljZSgpCiAgICAgICAgICAgIH0udG9DZWxsKCksCiAgICAgICAgICAgIGJvdW5jZTogYm91bmNlIAogICAgICAgIH0pOwogICAgfQp9CgppbmxpbmUgZnVuIHNlbmRfamV0dG9uX3dpdGhfdG9uX3RleHQoCiAgICBqZXR0b25fYWRkcmVzczogQWRkcmVzcywgCiAgICB0bzogQWRkcmVzcywgCiAgICBhbW91bnQ6IEludCwgCiAgICBhbW91bnRfdG9uOiBJbnQsCiAgICBxdWVyeV9pZDogSW50LCAKICAgIGJvdW5jZTogQm9vbCwKICAgIGZvcndhcmRfcGF5bG9hZDogU3RyaW5nCikgewogICAgaWYgKGFtb3VudCA+IDApIHsKICAgICAgICBzZW5kKFNlbmRQYXJhbWV0ZXJzewogICAgICAgICAgICB2YWx1ZTogdG9uKCIwLjEiKSArIGFtb3VudF90b24sIAogICAgICAgICAgICB0bzogamV0dG9uX2FkZHJlc3MsIAogICAgICAgICAgICBtb2RlOiAwLAogICAgICAgICAgICBib2R5OiBKZXR0b25UcmFuc2ZlciB7CiAgICAgICAgICAgICAgICBxdWVyeV9pZDogcXVlcnlfaWQsCiAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudCwKICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uOiB0bywKICAgICAgICAgICAgICAgIHJlc3BvbnNlX2Rlc3RpbmF0aW9uOiBteUFkZHJlc3MoKSwKICAgICAgICAgICAgICAgIGN1c3RvbV9wYXlsb2FkOiBudWxsLAogICAgICAgICAgICAgICAgZm9yd2FyZF90b25fYW1vdW50OiBhbW91bnRfdG9uLAogICAgICAgICAgICAgICAgZm9yd2FyZF9wYXlsb2FkOiBmb3J3YXJkX3BheWxvYWQuYXNTbGljZSgpCiAgICAgICAgICAgIH0udG9DZWxsKCksCiAgICAgICAgICAgIGJvdW5jZTogYm91bmNlIAogICAgICAgIH0pOwogICAgfQp9CgovLy8gYGpldHRvbl9hZGRyZXNzYDogbXkgamV0dG9uIHdhbGxldCBhZGRyZXNzCmlubGluZSBmdW4gYnVybl9qZXR0b24oCiAgICBqZXR0b25fYWRkcmVzczogQWRkcmVzcywgCiAgICBhbW91bnQ6IEludCwgCiAgICBxdWVyeV9pZDogSW50LCAKICAgIGJvdW5jZTogQm9vbCwKICAgIGN1c3RvbV9wYXlsb2FkOiBDZWxsPwopIHsKICAgIGlmIChhbW91bnQgPiAwKSB7CiAgICAgICAgc2VuZChTZW5kUGFyYW1ldGVyc3sKICAgICAgICAgICAgdmFsdWU6IHRvbigiMC4xIiksIAogICAgICAgICAgICB0bzogamV0dG9uX2FkZHJlc3MsIAogICAgICAgICAgICBtb2RlOiAwLAogICAgICAgICAgICBib2R5OiBKZXR0b25CdXJuIHsKICAgICAgICAgICAgICAgIHF1ZXJ5X2lkOiBxdWVyeV9pZCwKICAgICAgICAgICAgICAgIGFtb3VudDogYW1vdW50LAogICAgICAgICAgICAgICAgcmVzcG9uc2VfZGVzdGluYXRpb246IG15QWRkcmVzcygpLAogICAgICAgICAgICAgICAgY3VzdG9tX3BheWxvYWQ6IGN1c3RvbV9wYXlsb2FkCiAgICAgICAgICAgIH0udG9DZWxsKCksCiAgICAgICAgICAgIGJvdW5jZTogYm91bmNlIAogICAgICAgIH0pOwogICAgfQp9Cgo=","contracts/utils/string.tact":"Ly8vIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBR1BMLTMuMAovLy8gQ29weXJpZ2h0IChDKSBNaWNyb2Nvc20gTGFicyAyMDIzCi8vLyBUYWN0IGxpYnJhcnkgZm9yIHN0cmluZyBtYW5pcHVsYXRpb24KLy8vIEF1dGhvcjogQDBrZW54Ci8vLyBWZXJzaW9uOiAwLjAuNwovLy8KLy8vIE1ldGhvZHMgc3RhcnRpbmcgd2l0aCBgc3NfYCBhcmUgZm9yICJzaG9ydCBzdHJpbmdzIiBvciAic3RyaW5nIHNsaWNlcyIgdGhhdCBmaXQgd2l0aGluIHRoZSBkYXRhIHNlY3Rpb24gb2Ygb25lIHNpbmdsZSBzbGljZS4KLy8vIFNob3J0IHN0cmluZ3Mgc2hhbGwgYmUgcGFzc2VkIGluIGFzIGEgYFNsaWNlYC4KCmltcG9ydCAiLi9leHRyYS5mYyI7CgpAbmFtZSh4b3IpCm5hdGl2ZSBfc3RybGliX3hvcihhOiBJbnQsIGI6IEludCk6IEludDsKCkBuYW1lKGVxdWFsX3NsaWNlcykKbmF0aXZlIF9zdHJsaWJfZXF1YWxTbGljZXMoYTogU2xpY2UsIGI6IFNsaWNlKTogSW50OwoKLy8vIFNwbGl0cyBhIHNob3J0IHN0cmluZywgcmV0dXJuaW5nIHRoZSBmaXJzdCBOIGNoYXJhY3RlcnMgKEFTQ0lJIG9ubHkpLgovLy8gSWYgdGhlIGBwb3NgIGlzIGdyZWF0ZXIgdGhhbiB0aGUgbGVuZ3RoIG9mIHRoZSBzdHJpbmcsIHRoZSBlbnRpcmUgc3RyaW5nIGlzIHJldHVybmVkLgovLy8gUmV0dXJucyBhIGBTbGljZWAgdGhhdCBjYW4gYmUgY29udmVydGVkIHRvIGEgYFN0cmluZ2AgdXNpbmcgYGFzU3RyaW5nKClgLgpleHRlbmRzIGZ1biBzc19sc3BsaXRfYmVmb3JlKHNlbGY6IFNsaWNlLCBwb3M6IEludCk6IFNsaWNlIHsKICAgIGxldCBiaXRzX3RvX2xvYWQ6IEludCA9IG1pbihwb3MqOCwgc2VsZi5iaXRzKCkpOwogICAgbGV0IHN0cl9hc19pbnQ6IFNsaWNlID0gc2VsZi5wcmVsb2FkQml0cyhiaXRzX3RvX2xvYWQpOwogICAgcmV0dXJuIHN0cl9hc19pbnQ7Cn0KCmlubGluZSBleHRlbmRzIGZ1biBzc19sc3BsaXRfYmVmb3JlKHNlbGY6IFN0cmluZywgcG9zOiBJbnQpOiBTbGljZSB7CiAgICByZXR1cm4gc2VsZi5hc1NsaWNlKCkuc3NfbHNwbGl0X2JlZm9yZShwb3MpOwp9CgovLy8gU3BsaXRzIGEgc2hvcnQgc3RyaW5nLCBza2lwcGluZyB0aGUgZmlyc3QgTiBjaGFyYWN0ZXJzIChBU0NJSSBvbmx5KS4KLy8vIElmIHRoZSBgcG9zYCBpcyBncmVhdGVyIHRoYW4gdGhlIGxlbmd0aCBvZiB0aGUgc3RyaW5nLCBhbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQuCi8vLyBSZXR1cm5zIGEgYFNsaWNlYCB0aGF0IGNhbiBiZSBjb252ZXJ0ZWQgdG8gYSBgU3RyaW5nYCB1c2luZyBgYXNTdHJpbmcoKWAuCmV4dGVuZHMgZnVuIHNzX2xzcGxpdF9hZnRlcihzZWxmOiBTbGljZSwgcG9zOiBJbnQpOiBTbGljZSB7CiAgICBsZXQgYml0czogSW50ID0gc2VsZi5iaXRzKCk7CiAgICBsZXQgYml0c190b19za2lwOiBJbnQgPSBtaW4ocG9zKjgsIGJpdHMpOwogICAgc2VsZi5za2lwQml0cyhiaXRzX3RvX3NraXApOwogICAgbGV0IHN0cl9hc19pbnQ6IFNsaWNlID0gc2VsZi5wcmVsb2FkQml0cyhiaXRzLWJpdHNfdG9fc2tpcCk7IC8vIE5vdGU6IGBwcmVsb2FkQml0c2AgaXMgY2hlYXBlciB0aGFuIGBsb2FkQml0c2AKICAgIHJldHVybiBzdHJfYXNfaW50Owp9CgppbmxpbmUgZXh0ZW5kcyBmdW4gc3NfbHNwbGl0X2FmdGVyKHNlbGY6IFN0cmluZywgcG9zOiBJbnQpOiBTbGljZSB7CiAgICByZXR1cm4gc2VsZi5hc1NsaWNlKCkuc3NfbHNwbGl0X2FmdGVyKHBvcyk7Cn0KCi8vLyBTcGxpdHMgYSBzaG9ydCBzdHJpbmcgZnJvbSB0aGUgcmlnaHQsIHNraXBwaW5nIHRoZSBsYXN0IE4gY2hhcmFjdGVycyAoQVNDSUkgb25seSkuCi8vLyBJZiB0aGUgYHBvc2AgaXMgZ3JlYXRlciB0aGFuIHRoZSBsZW5ndGggb2YgdGhlIHN0cmluZywgdGhlIGVudGlyZSBzdHJpbmcgaXMgcmV0dXJuZWQuCi8vLyBSZXR1cm5zIGEgYFNsaWNlYCB0aGF0IGNhbiBiZSBjb252ZXJ0ZWQgdG8gYSBgU3RyaW5nYCB1c2luZyBgYXNTdHJpbmcoKWAuCmV4dGVuZHMgZnVuIHNzX3JzcGxpdF9iZWZvcmUoc2VsZjogU2xpY2UsIHBvczogSW50KTogU2xpY2UgewogICAgbGV0IGJpdHNfdG9fbG9hZDogSW50ID0gbWF4KHNlbGYuYml0cygpIC0gcG9zKjggLCAwKTsKICAgIGxldCBzdHJfYXNfaW50OiBTbGljZSA9IHNlbGYucHJlbG9hZEJpdHMoYml0c190b19sb2FkKTsKICAgIHJldHVybiBzdHJfYXNfaW50Owp9CgppbmxpbmUgZXh0ZW5kcyBmdW4gc3NfcnNwbGl0X2JlZm9yZShzZWxmOiBTdHJpbmcsIHBvczogSW50KTogU2xpY2UgewogICAgcmV0dXJuIHNlbGYuYXNTbGljZSgpLnNzX3JzcGxpdF9iZWZvcmUocG9zKTsKfQoKLy8vIFNwbGl0cyBhIHNob3J0IHN0cmluZyBmcm9tIHRoZSByaWdodCwgcmV0dXJuaW5nIHRoZSBsYXN0IE4gY2hhcmFjdGVycyAoQVNDSUkgb25seSkuCi8vLyBJZiB0aGUgYHBvc2AgaXMgZ3JlYXRlciB0aGFuIHRoZSBsZW5ndGggb2YgdGhlIHN0cmluZywgYW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkLgovLy8gUmV0dXJucyBhIGBTbGljZWAgdGhhdCBjYW4gYmUgY29udmVydGVkIHRvIGEgYFN0cmluZ2AgdXNpbmcgYGFzU3RyaW5nKClgLgpleHRlbmRzIGZ1biBzc19yc3BsaXRfYWZ0ZXIoc2VsZjogU2xpY2UsIHBvczogSW50KTogU2xpY2UgewogICAgbGV0IGJpdHM6IEludCA9IHNlbGYuYml0cygpOwogICAgbGV0IGJpdHNfdG9fc2tpcDogSW50ID0gbWF4KHNlbGYuYml0cygpIC0gcG9zKjggLCAwKTsKICAgIHNlbGYuc2tpcEJpdHMoYml0c190b19za2lwKTsKICAgIGxldCBzdHJfYXNfaW50OiBTbGljZSA9IHNlbGYucHJlbG9hZEJpdHMoYml0cy1iaXRzX3RvX3NraXApOwogICAgcmV0dXJuIHN0cl9hc19pbnQ7Cn0KCmlubGluZSBleHRlbmRzIGZ1biBzc19yc3BsaXRfYWZ0ZXIoc2VsZjogU3RyaW5nLCBwb3M6IEludCk6IFNsaWNlIHsKICAgIHJldHVybiBzZWxmLmFzU2xpY2UoKS5zc19yc3BsaXRfYWZ0ZXIocG9zKTsKfQoKLy8vIERldGVybWluZXMgaWYgYSBzaG9ydCBzdHJpbmcgc3RhcnRzIHdpdGggYSBwcmVmaXguCmV4dGVuZHMgZnVuIHNzX3N0YXJ0c193aXRoKHNlbGY6IFNsaWNlLCBwcmVmaXg6IFNsaWNlKTogQm9vbCB7CiAgICBsZXQgYml0czogSW50ID0gcHJlZml4LmJpdHMoKTsKICAgIGlmIChiaXRzID4gc2VsZi5iaXRzKCkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICByZXR1cm4gX3N0cmxpYl9lcXVhbFNsaWNlcyhwcmVmaXgucHJlbG9hZEJpdHMoYml0cyksIHNlbGYucHJlbG9hZEJpdHMoYml0cykpICE9IDA7Cn0KCmlubGluZSBleHRlbmRzIGZ1biBzc19zdGFydHNfd2l0aChzZWxmOiBTdHJpbmcsIHByZWZpeDogU3RyaW5nKTogQm9vbCB7CiAgICByZXR1cm4gc2VsZi5hc1NsaWNlKCkuc3Nfc3RhcnRzX3dpdGgocHJlZml4LmFzU2xpY2UoKSk7Cn0KCi8vLyBEZXRlcm1pbmVzIGlmIHR3byBzaG9ydCBzdHJpbmdzIGFyZSBlcXVhbC4KaW5saW5lIGV4dGVuZHMgZnVuIGVxKHNlbGY6IFNsaWNlLCBvdGhlcjogU2xpY2UpOiBCb29sIHsKICAgIHJldHVybiBfc3RybGliX2VxdWFsU2xpY2VzKHNlbGYsIG90aGVyKSAhPSAwOwp9CgppbmxpbmUgZXh0ZW5kcyBmdW4gZXEoc2VsZjogU3RyaW5nLCBvdGhlcjogU3RyaW5nKTogQm9vbCB7CiAgICByZXR1cm4gX3N0cmxpYl9lcXVhbFNsaWNlcyhzZWxmLmFzU2xpY2UoKSwgb3RoZXIuYXNTbGljZSgpKSAhPSAwOwp9CgovLy8gQ29tcGFyZXMgdHdvIHNob3J0IHN0cmluZ3MuCi8vLyBSZXR1cm5zIC0xIGlmIGBzZWxmYCBpcyBsZXNzIHRoYW4gYG90aGVyYCwgMCBpZiB0aGV5IGFyZSBlcXVhbCwgYW5kIDEgaWYgYHNlbGZgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgICh0aGUgZmlyc3Qgbm9uLW1hdGNoaW5nIGNoYXIgaW4gQVNDSUkpLgpleHRlbmRzIGZ1biBzc19jb21wYXJlKHNlbGY6IFNsaWNlLCBvdGhlcjogU2xpY2UpOiBJbnQgewogICAgbGV0IHNlbGZfYml0czogSW50ID0gc2VsZi5iaXRzKCk7CiAgICBsZXQgb3RoZXJfYml0czogSW50ID0gb3RoZXIuYml0cygpOwogICAgbGV0IGJpdHM6IEludCA9IG1pbihzZWxmX2JpdHMsIG90aGVyX2JpdHMpOwogICAgd2hpbGUgKGJpdHMgPiAwKSB7CiAgICAgICAgbGV0IHNlbGZfYXNfaW50OiBJbnQgPSBzZWxmLmxvYWRVaW50KG1pbihiaXRzLCAyNTYpKTsKICAgICAgICBsZXQgb3RoZXJfYXNfaW50OiBJbnQgPSBvdGhlci5sb2FkVWludChtaW4oYml0cywgMjU2KSk7CiAgICAgICAgaWYgKHNlbGZfYXNfaW50IDwgb3RoZXJfYXNfaW50KSB7CiAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICB9IGVsc2UgaWYgKHNlbGZfYXNfaW50ID4gb3RoZXJfYXNfaW50KSB7CiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgIH0KICAgICAgICBiaXRzID0gYml0cyAtIDI1NjsKICAgIH0KICAgIGlmIChzZWxmX2JpdHMgPCBvdGhlcl9iaXRzKSB7CiAgICAgICAgcmV0dXJuIC0xOwogICAgfSBlbHNlIGlmIChzZWxmX2JpdHMgPiBvdGhlcl9iaXRzKSB7CiAgICAgICAgcmV0dXJuIDE7CiAgICB9CiAgICByZXR1cm4gMDsKfQoKaW5saW5lIGV4dGVuZHMgZnVuIHNzX2NvbXBhcmUoc2VsZjogU3RyaW5nLCBvdGhlcjogU3RyaW5nKTogSW50IHsKICAgIHJldHVybiBzZWxmLmFzU2xpY2UoKS5zc19jb21wYXJlKG90aGVyLmFzU2xpY2UoKSk7Cn0KCi8vLyBDb21wYXJlcyB0d28gc2hvcnQgc3RyaW5ncywgcmV0dXJuaW5nIHRoZSBpbmRleCBvZiB0aGUgZmlyc3Qgbm9uLW1hdGNoaW5nIGNoYXJhY3RlciwgY2hhcmFjdGVycyBhcmUgY291bnRlZCAxLi4ubS4KLy8vIFJ1dHVybnMgMCBpZiB0aGUgc3RyaW5ncyBhcmUgZXF1YWwsIC1uIGlmIGBzZWxmYCBpcyBsZXNzIHRoYW4gYG90aGVyYCBhdCB0aGUgbi10aCBwb3NpdGlvbiwgYW5kIG4gaWYgYHNlbGZgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgIGF0IHRoZSBuLXRoIHBvc2l0aW9uLgpleHRlbmRzIGZ1biBzc19kaWZmKHNlbGY6IFNsaWNlLCBvdGhlcjogU2xpY2UpOiBJbnQgewogICAgbGV0IHNlbGZfYml0czogSW50ID0gc2VsZi5iaXRzKCk7CiAgICBsZXQgb3RoZXJfYml0czogSW50ID0gb3RoZXIuYml0cygpOwogICAgbGV0IGJpdHM6IEludCA9IG1pbihzZWxmX2JpdHMsIG90aGVyX2JpdHMpOwogICAgbGV0IGk6IEludCA9IDA7CiAgICB3aGlsZSAoaSA8IGJpdHMpIHsKICAgICAgICBsZXQgc2VsZl9hc19pbnQ6IEludCA9IHNlbGYubG9hZFVpbnQoOCk7CiAgICAgICAgbGV0IG90aGVyX2FzX2ludDogSW50ID0gb3RoZXIubG9hZFVpbnQoOCk7CiAgICAgICAgaWYgKHNlbGZfYXNfaW50IDwgb3RoZXJfYXNfaW50KSB7CiAgICAgICAgICAgIHJldHVybiAtIGkgLyA4IC0gMTsKICAgICAgICB9IGVsc2UgaWYgKHNlbGZfYXNfaW50ID4gb3RoZXJfYXNfaW50KSB7CiAgICAgICAgICAgIHJldHVybiBpIC8gOCArIDE7CiAgICAgICAgfQogICAgICAgIGkgPSBpICsgODsKICAgIH0KICAgIGlmIChzZWxmX2JpdHMgPCBvdGhlcl9iaXRzKSB7CiAgICAgICAgcmV0dXJuIC0gaSAvIDggLSAxOwogICAgfSBlbHNlIGlmIChzZWxmX2JpdHMgPiBvdGhlcl9iaXRzKSB7CiAgICAgICAgcmV0dXJuIGkgLyA4ICsgMTsKICAgIH0KICAgIHJldHVybiAwOwp9CgppbmxpbmUgZXh0ZW5kcyBmdW4gc3NfZGlmZihzZWxmOiBTdHJpbmcsIG90aGVyOiBTdHJpbmcpOiBJbnQgewogICAgcmV0dXJuIHNlbGYuYXNTbGljZSgpLnNzX2RpZmYob3RoZXIuYXNTbGljZSgpKTsKfQoKCi8vLyBEZXRlcm1pbmVzIGlmIGEgc2hvcnQgc3RyaW5nIGVuZHMgd2l0aCBhIHN1ZmZpeC4KZXh0ZW5kcyBmdW4gc3NfZW5kc193aXRoKHNlbGY6IFNsaWNlLCBzdWZmaXg6IFNsaWNlKTogQm9vbCB7CiAgICBsZXQgc3VmZml4X2JpdHM6IEludCA9IHN1ZmZpeC5iaXRzKCk7CiAgICBsZXQgc3RyX2JpdHM6IEludCA9IHNlbGYuYml0cygpOwogICAgaWYgKHN1ZmZpeF9iaXRzID4gc3RyX2JpdHMpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICBzZWxmLnNraXBCaXRzKHN0cl9iaXRzIC0gc3VmZml4X2JpdHMpOwogICAgbGV0IHN0cl9lbmRfc2xpY2U6IFNsaWNlID0gc2VsZi5wcmVsb2FkQml0cyhzdWZmaXhfYml0cyk7CiAgICByZXR1cm4gX3N0cmxpYl9lcXVhbFNsaWNlcyhzdHJfZW5kX3NsaWNlLCBzdWZmaXgpICE9IDA7Cn0KCmlubGluZSBleHRlbmRzIGZ1biBzc19lbmRzX3dpdGgoc2VsZjogU3RyaW5nLCBzdWZmaXg6IFN0cmluZyk6IEJvb2wgewogICAgcmV0dXJuIHNlbGYuYXNTbGljZSgpLnNzX2VuZHNfd2l0aChzdWZmaXguYXNTbGljZSgpKTsKfQoKLy8vIElmIHRoZSBzdHJpbmcgc3RhcnRzIHdpdGggYSBwcmVmaXgsIHJldHVybnMgdGhlIHN0cmluZyB3aXRoIHRoZSBwcmVmaXggcmVtb3ZlZC4KLy8vIE90aGVyd2lzZSwgcmV0dXJucyB0aGUgb3JpZ2luYWwgc3RyaW5nLgovLy8gUmV0dXJucyBhIGBTbGljZWAgdGhhdCBjYW4gYmUgY29udmVydGVkIHRvIGEgYFN0cmluZ2AgdXNpbmcgYGFzU3RyaW5nKClgLgpleHRlbmRzIGZ1biBzc19yZW1vdmVfcHJlZml4KHNlbGY6IFNsaWNlLCBwcmVmaXg6IFNsaWNlKTogU2xpY2UgewogICAgaWYgKHNlbGYuc3Nfc3RhcnRzX3dpdGgocHJlZml4KSkgewogICAgICAgIHJldHVybiBzZWxmLnNzX2xzcGxpdF9hZnRlcihwcmVmaXguYml0cygpIC8gOCk7CiAgICB9CiAgICByZXR1cm4gc2VsZjsKfQoKaW5saW5lIGV4dGVuZHMgZnVuIHNzX3JlbW92ZV9wcmVmaXgoc2VsZjogU3RyaW5nLCBwcmVmaXg6IFN0cmluZyk6IFNsaWNlIHsKICAgIHJldHVybiBzZWxmLmFzU2xpY2UoKS5zc19yZW1vdmVfcHJlZml4KHByZWZpeC5hc1NsaWNlKCkpOwp9CgovLy8gSWYgdGhlIHN0cmluZyBlbmRzIHdpdGggYSBzdWZmaXgsIHJldHVybnMgdGhlIHN0cmluZyB3aXRoIHRoZSBzdWZmaXggcmVtb3ZlZC4KLy8vIE90aGVyd2lzZSwgcmV0dXJucyB0aGUgb3JpZ2luYWwgc3RyaW5nLgovLy8gUmV0dXJucyBhIGBTbGljZWAgdGhhdCBjYW4gYmUgY29udmVydGVkIHRvIGEgYFN0cmluZ2AgdXNpbmcgYGFzU3RyaW5nKClgLgpleHRlbmRzIGZ1biBzc19yZW1vdmVfc3VmZml4KHNlbGY6IFNsaWNlLCBzdWZmaXg6IFNsaWNlKTogU2xpY2UgewogICAgaWYgKHNlbGYuc3NfZW5kc193aXRoKHN1ZmZpeCkpIHsKICAgICAgICByZXR1cm4gc2VsZi5zc19yc3BsaXRfYmVmb3JlKHN1ZmZpeC5iaXRzKCkgLyA4KTsKICAgIH0KICAgIHJldHVybiBzZWxmOwp9CgppbmxpbmUgZXh0ZW5kcyBmdW4gc3NfcmVtb3ZlX3N1ZmZpeChzZWxmOiBTdHJpbmcsIHN1ZmZpeDogU3RyaW5nKTogU2xpY2UgewogICAgcmV0dXJuIHNlbGYuYXNTbGljZSgpLnNzX3JlbW92ZV9zdWZmaXgoc3VmZml4LmFzU2xpY2UoKSk7Cn0KCi8vLyBDb25jYXRlbmF0ZXMgc2V2ZXJhbCBzaG9ydCBzdHJpbmdzLgovLy8gVGhlIHRvdGFsIGxlbmd0aCBvZiB0aGUgc3RyaW5ncyBtdXN0IGZpdCB3aXRoaW4gMSBzbGljZSwgb3RoZXJ3aXNlIHRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWQuCi8vLyBSZXR1cm5zIGEgYFNsaWNlYCB0aGF0IGNhbiBiZSBjb252ZXJ0ZWQgdG8gYSBgU3RyaW5nYCB1c2luZyBgYXNTdHJpbmcoKWAuCmlubGluZSBmdW4gc3NfY29uY2F0KHN0cjE6IFNsaWNlLCBzdHIyOiBTbGljZSk6IFNsaWNlIHsKICAgIHJldHVybiBiZWdpbkNlbGwoKS5zdG9yZVNsaWNlKHN0cjEpLnN0b3JlU2xpY2Uoc3RyMikuYXNTbGljZSgpOwp9CgppbmxpbmUgZnVuIHNzX2NvbmNhdDMoc3RyMTogU2xpY2UsIHN0cjI6IFNsaWNlLCBzdHIzOiBTbGljZSk6IFNsaWNlIHsKICAgIHJldHVybiBiZWdpbkNlbGwoKS5zdG9yZVNsaWNlKHN0cjEpLnN0b3JlU2xpY2Uoc3RyMikuc3RvcmVTbGljZShzdHIzKS5hc1NsaWNlKCk7Cn0KCmlubGluZSBmdW4gc3NfY29uY2F0NChzdHIxOiBTbGljZSwgc3RyMjogU2xpY2UsIHN0cjM6IFNsaWNlLCBzdHI0OiBTbGljZSk6IFNsaWNlIHsKICAgIHJldHVybiBiZWdpbkNlbGwoKS5zdG9yZVNsaWNlKHN0cjEpLnN0b3JlU2xpY2Uoc3RyMikuc3RvcmVTbGljZShzdHIzKS5zdG9yZVNsaWNlKHN0cjQpLmFzU2xpY2UoKTsKfQoKaW5saW5lIGZ1biBzc19jb25jYXQ1KHN0cjE6IFNsaWNlLCBzdHIyOiBTbGljZSwgc3RyMzogU2xpY2UsIHN0cjQ6IFNsaWNlLCBzdHI1OiBTbGljZSk6IFNsaWNlIHsKICAgIHJldHVybiBiZWdpbkNlbGwoKS5zdG9yZVNsaWNlKHN0cjEpLnN0b3JlU2xpY2Uoc3RyMikuc3RvcmVTbGljZShzdHIzKS5zdG9yZVNsaWNlKHN0cjQpLnN0b3JlU2xpY2Uoc3RyNSkuYXNTbGljZSgpOwp9CgppbmxpbmUgZnVuIHNzX2NvbmNhdDYoc3RyMTogU2xpY2UsIHN0cjI6IFNsaWNlLCBzdHIzOiBTbGljZSwgc3RyNDogU2xpY2UsIHN0cjU6IFNsaWNlLCBzdHI2OiBTbGljZSk6IFNsaWNlIHsKICAgIHJldHVybiBiZWdpbkNlbGwoKS5zdG9yZVNsaWNlKHN0cjEpLnN0b3JlU2xpY2Uoc3RyMikuc3RvcmVTbGljZShzdHIzKS5zdG9yZVNsaWNlKHN0cjQpLnN0b3JlU2xpY2Uoc3RyNSkuc3RvcmVTbGljZShzdHI2KS5hc1NsaWNlKCk7Cn0KCmlubGluZSBmdW4gc3NfY29uY2F0NyhzdHIxOiBTbGljZSwgc3RyMjogU2xpY2UsIHN0cjM6IFNsaWNlLCBzdHI0OiBTbGljZSwgc3RyNTogU2xpY2UsIHN0cjY6IFNsaWNlLCBzdHI3OiBTbGljZSk6IFNsaWNlIHsKICAgIHJldHVybiBiZWdpbkNlbGwoKS5zdG9yZVNsaWNlKHN0cjEpLnN0b3JlU2xpY2Uoc3RyMikuc3RvcmVTbGljZShzdHIzKS5zdG9yZVNsaWNlKHN0cjQpLnN0b3JlU2xpY2Uoc3RyNSkuc3RvcmVTbGljZShzdHI2KS5zdG9yZVNsaWNlKHN0cjcpLmFzU2xpY2UoKTsKfQoKaW5saW5lIGZ1biBzc19jb25jYXQ4KHN0cjE6IFNsaWNlLCBzdHIyOiBTbGljZSwgc3RyMzogU2xpY2UsIHN0cjQ6IFNsaWNlLCBzdHI1OiBTbGljZSwgc3RyNjogU2xpY2UsIHN0cjc6IFNsaWNlLCBzdHI4OiBTbGljZSk6IFNsaWNlIHsKICAgIHJldHVybiBiZWdpbkNlbGwoKS5zdG9yZVNsaWNlKHN0cjEpLnN0b3JlU2xpY2Uoc3RyMikuc3RvcmVTbGljZShzdHIzKS5zdG9yZVNsaWNlKHN0cjQpLnN0b3JlU2xpY2Uoc3RyNSkuc3RvcmVTbGljZShzdHI2KS5zdG9yZVNsaWNlKHN0cjcpLnN0b3JlU2xpY2Uoc3RyOCkuYXNTbGljZSgpOwp9CgppbmxpbmUgZnVuIHNzX2NvbmNhdDkoc3RyMTogU2xpY2UsIHN0cjI6IFNsaWNlLCBzdHIzOiBTbGljZSwgc3RyNDogU2xpY2UsIHN0cjU6IFNsaWNlLCBzdHI2OiBTbGljZSwgc3RyNzogU2xpY2UsIHN0cjg6IFNsaWNlLCBzdHI5OiBTbGljZSk6IFNsaWNlIHsKICAgIHJldHVybiBiZWdpbkNlbGwoKS5zdG9yZVNsaWNlKHN0cjEpLnN0b3JlU2xpY2Uoc3RyMikuc3RvcmVTbGljZShzdHIzKS5zdG9yZVNsaWNlKHN0cjQpLnN0b3JlU2xpY2Uoc3RyNSkuc3RvcmVTbGljZShzdHI2KS5zdG9yZVNsaWNlKHN0cjcpLnN0b3JlU2xpY2Uoc3RyOCkuc3RvcmVTbGljZShzdHI5KS5hc1NsaWNlKCk7Cn0KCi8vLyBDb25jYXRlbmF0ZXMgc2V2ZXJhbCBzaG9ydCBzdHJpbmdzLgppbmxpbmUgZnVuIHN0cmluZ19jb25jYXQoc3RyMTogU3RyaW5nLCBzdHIyOiBTdHJpbmcpOiBTdHJpbmcgewogICAgbGV0IGI6IFN0cmluZ0J1aWxkZXIgPSBiZWdpblN0cmluZygpOwogICAgYi5hcHBlbmQoc3RyMSk7IGIuYXBwZW5kKHN0cjIpOwogICAgcmV0dXJuIGIudG9TdHJpbmcoKTsKfQoKaW5saW5lIGZ1biBzdHJpbmdfY29uY2F0MyhzdHIxOiBTdHJpbmcsIHN0cjI6IFN0cmluZywgc3RyMzogU3RyaW5nKTogU3RyaW5nIHsKICAgIGxldCBiOiBTdHJpbmdCdWlsZGVyID0gYmVnaW5TdHJpbmcoKTsKICAgIGIuYXBwZW5kKHN0cjEpOyBiLmFwcGVuZChzdHIyKTsgYi5hcHBlbmQoc3RyMyk7CiAgICByZXR1cm4gYi50b1N0cmluZygpOwp9CgppbmxpbmUgZnVuIHN0cmluZ19jb25jYXQ0KHN0cjE6IFN0cmluZywgc3RyMjogU3RyaW5nLCBzdHIzOiBTdHJpbmcsIHN0cjQ6IFN0cmluZyk6IFN0cmluZyB7CiAgICBsZXQgYjogU3RyaW5nQnVpbGRlciA9IGJlZ2luU3RyaW5nKCk7CiAgICBiLmFwcGVuZChzdHIxKTsgYi5hcHBlbmQoc3RyMik7IGIuYXBwZW5kKHN0cjMpOyBiLmFwcGVuZChzdHI0KTsKICAgIHJldHVybiBiLnRvU3RyaW5nKCk7Cn0KCmlubGluZSBmdW4gc3RyaW5nX2NvbmNhdDUoc3RyMTogU3RyaW5nLCBzdHIyOiBTdHJpbmcsIHN0cjM6IFN0cmluZywgc3RyNDogU3RyaW5nLCBzdHI1OiBTdHJpbmcpOiBTdHJpbmcgewogICAgbGV0IGI6IFN0cmluZ0J1aWxkZXIgPSBiZWdpblN0cmluZygpOwogICAgYi5hcHBlbmQoc3RyMSk7IGIuYXBwZW5kKHN0cjIpOyBiLmFwcGVuZChzdHIzKTsgYi5hcHBlbmQoc3RyNCk7IGIuYXBwZW5kKHN0cjUpOwogICAgcmV0dXJuIGIudG9TdHJpbmcoKTsKfQoKaW5saW5lIGZ1biBzdHJpbmdfY29uY2F0NihzdHIxOiBTdHJpbmcsIHN0cjI6IFN0cmluZywgc3RyMzogU3RyaW5nLCBzdHI0OiBTdHJpbmcsIHN0cjU6IFN0cmluZywgc3RyNjogU3RyaW5nKTogU3RyaW5nIHsKICAgIGxldCBiOiBTdHJpbmdCdWlsZGVyID0gYmVnaW5TdHJpbmcoKTsKICAgIGIuYXBwZW5kKHN0cjEpOyBiLmFwcGVuZChzdHIyKTsgYi5hcHBlbmQoc3RyMyk7IGIuYXBwZW5kKHN0cjQpOyBiLmFwcGVuZChzdHI1KTsgYi5hcHBlbmQoc3RyNik7CiAgICByZXR1cm4gYi50b1N0cmluZygpOwp9CgppbmxpbmUgZnVuIHN0cmluZ19jb25jYXQ3KHN0cjE6IFN0cmluZywgc3RyMjogU3RyaW5nLCBzdHIzOiBTdHJpbmcsIHN0cjQ6IFN0cmluZywgc3RyNTogU3RyaW5nLCBzdHI2OiBTdHJpbmcsIHN0cjc6IFN0cmluZyk6IFN0cmluZyB7CiAgICBsZXQgYjogU3RyaW5nQnVpbGRlciA9IGJlZ2luU3RyaW5nKCk7CiAgICBiLmFwcGVuZChzdHIxKTsgYi5hcHBlbmQoc3RyMik7IGIuYXBwZW5kKHN0cjMpOyBiLmFwcGVuZChzdHI0KTsgYi5hcHBlbmQoc3RyNSk7IGIuYXBwZW5kKHN0cjYpOyBiLmFwcGVuZChzdHI3KTsKICAgIHJldHVybiBiLnRvU3RyaW5nKCk7Cn0KCmlubGluZSBmdW4gc3RyaW5nX2NvbmNhdDgoc3RyMTogU3RyaW5nLCBzdHIyOiBTdHJpbmcsIHN0cjM6IFN0cmluZywgc3RyNDogU3RyaW5nLCBzdHI1OiBTdHJpbmcsIHN0cjY6IFN0cmluZywgc3RyNzogU3RyaW5nLCBzdHI4OiBTdHJpbmcpOiBTdHJpbmcgewogICAgbGV0IGI6IFN0cmluZ0J1aWxkZXIgPSBiZWdpblN0cmluZygpOwogICAgYi5hcHBlbmQoc3RyMSk7IGIuYXBwZW5kKHN0cjIpOyBiLmFwcGVuZChzdHIzKTsgYi5hcHBlbmQoc3RyNCk7IGIuYXBwZW5kKHN0cjUpOyBiLmFwcGVuZChzdHI2KTsgYi5hcHBlbmQoc3RyNyk7IGIuYXBwZW5kKHN0cjgpOwogICAgcmV0dXJuIGIudG9TdHJpbmcoKTsKfQoKaW5saW5lIGZ1biBzdHJpbmdfY29uY2F0OShzdHIxOiBTdHJpbmcsIHN0cjI6IFN0cmluZywgc3RyMzogU3RyaW5nLCBzdHI0OiBTdHJpbmcsIHN0cjU6IFN0cmluZywgc3RyNjogU3RyaW5nLCBzdHI3OiBTdHJpbmcsIHN0cjg6IFN0cmluZywgc3RyOTogU3RyaW5nKTogU3RyaW5nIHsKICAgIGxldCBiOiBTdHJpbmdCdWlsZGVyID0gYmVnaW5TdHJpbmcoKTsKICAgIGIuYXBwZW5kKHN0cjEpOyBiLmFwcGVuZChzdHIyKTsgYi5hcHBlbmQoc3RyMyk7IGIuYXBwZW5kKHN0cjQpOyBiLmFwcGVuZChzdHI1KTsgYi5hcHBlbmQoc3RyNik7IGIuYXBwZW5kKHN0cjcpOyBiLmFwcGVuZChzdHI4KTsgYi5hcHBlbmQoc3RyOSk7CiAgICByZXR1cm4gYi50b1N0cmluZygpOwp9CgovLy8gQ29uY2F0ZW5hdGVzIHNldmVyYWwgc2hvcnQgc3RyaW5ncyBpbnRvIGEgQ29tbWVudCAocHJlZml4ZWQgd2l0aCAzMiAwcykuCmlubGluZSBmdW4gc3RyaW5nX2NvbmNhdF9jb21tZW50KHN0cjE6IFN0cmluZywgc3RyMjogU3RyaW5nKTogQ2VsbCB7CiAgICBsZXQgYjogU3RyaW5nQnVpbGRlciA9IGJlZ2luQ29tbWVudCgpOwogICAgYi5hcHBlbmQoc3RyMSk7IGIuYXBwZW5kKHN0cjIpOwogICAgcmV0dXJuIGIudG9DZWxsKCk7Cn0KCmlubGluZSBmdW4gc3RyaW5nX2NvbmNhdF9jb21tZW50MyhzdHIxOiBTdHJpbmcsIHN0cjI6IFN0cmluZywgc3RyMzogU3RyaW5nKTogQ2VsbCB7CiAgICBsZXQgYjogU3RyaW5nQnVpbGRlciA9IGJlZ2luQ29tbWVudCgpOwogICAgYi5hcHBlbmQoc3RyMSk7IGIuYXBwZW5kKHN0cjIpOyBiLmFwcGVuZChzdHIzKTsKICAgIHJldHVybiBiLnRvQ2VsbCgpOwp9CgppbmxpbmUgZnVuIHN0cmluZ19jb25jYXRfY29tbWVudDQoc3RyMTogU3RyaW5nLCBzdHIyOiBTdHJpbmcsIHN0cjM6IFN0cmluZywgc3RyNDogU3RyaW5nKTogQ2VsbCB7CiAgICBsZXQgYjogU3RyaW5nQnVpbGRlciA9IGJlZ2luQ29tbWVudCgpOwogICAgYi5hcHBlbmQoc3RyMSk7IGIuYXBwZW5kKHN0cjIpOyBiLmFwcGVuZChzdHIzKTsgYi5hcHBlbmQoc3RyNCk7CiAgICByZXR1cm4gYi50b0NlbGwoKTsKfQoKaW5saW5lIGZ1biBzdHJpbmdfY29uY2F0X2NvbW1lbnQ1KHN0cjE6IFN0cmluZywgc3RyMjogU3RyaW5nLCBzdHIzOiBTdHJpbmcsIHN0cjQ6IFN0cmluZywgc3RyNTogU3RyaW5nKTogQ2VsbCB7CiAgICBsZXQgYjogU3RyaW5nQnVpbGRlciA9IGJlZ2luQ29tbWVudCgpOwogICAgYi5hcHBlbmQoc3RyMSk7IGIuYXBwZW5kKHN0cjIpOyBiLmFwcGVuZChzdHIzKTsgYi5hcHBlbmQoc3RyNCk7IGIuYXBwZW5kKHN0cjUpOwogICAgcmV0dXJuIGIudG9DZWxsKCk7Cn0KCmlubGluZSBmdW4gc3RyaW5nX2NvbmNhdF9jb21tZW50NihzdHIxOiBTdHJpbmcsIHN0cjI6IFN0cmluZywgc3RyMzogU3RyaW5nLCBzdHI0OiBTdHJpbmcsIHN0cjU6IFN0cmluZywgc3RyNjogU3RyaW5nKTogQ2VsbCB7CiAgICBsZXQgYjogU3RyaW5nQnVpbGRlciA9IGJlZ2luQ29tbWVudCgpOwogICAgYi5hcHBlbmQoc3RyMSk7IGIuYXBwZW5kKHN0cjIpOyBiLmFwcGVuZChzdHIzKTsgYi5hcHBlbmQoc3RyNCk7IGIuYXBwZW5kKHN0cjUpOyBiLmFwcGVuZChzdHI2KTsKICAgIHJldHVybiBiLnRvQ2VsbCgpOwp9CgppbmxpbmUgZnVuIHN0cmluZ19jb25jYXRfY29tbWVudDcoc3RyMTogU3RyaW5nLCBzdHIyOiBTdHJpbmcsIHN0cjM6IFN0cmluZywgc3RyNDogU3RyaW5nLCBzdHI1OiBTdHJpbmcsIHN0cjY6IFN0cmluZywgc3RyNzogU3RyaW5nKTogQ2VsbCB7CiAgICBsZXQgYjogU3RyaW5nQnVpbGRlciA9IGJlZ2luQ29tbWVudCgpOwogICAgYi5hcHBlbmQoc3RyMSk7IGIuYXBwZW5kKHN0cjIpOyBiLmFwcGVuZChzdHIzKTsgYi5hcHBlbmQoc3RyNCk7IGIuYXBwZW5kKHN0cjUpOyBiLmFwcGVuZChzdHI2KTsgYi5hcHBlbmQoc3RyNyk7CiAgICByZXR1cm4gYi50b0NlbGwoKTsKfQoKaW5saW5lIGZ1biBzdHJpbmdfY29uY2F0X2NvbW1lbnQ4KHN0cjE6IFN0cmluZywgc3RyMjogU3RyaW5nLCBzdHIzOiBTdHJpbmcsIHN0cjQ6IFN0cmluZywgc3RyNTogU3RyaW5nLCBzdHI2OiBTdHJpbmcsIHN0cjc6IFN0cmluZywgc3RyODogU3RyaW5nKTogQ2VsbCB7CiAgICBsZXQgYjogU3RyaW5nQnVpbGRlciA9IGJlZ2luQ29tbWVudCgpOwogICAgYi5hcHBlbmQoc3RyMSk7IGIuYXBwZW5kKHN0cjIpOyBiLmFwcGVuZChzdHIzKTsgYi5hcHBlbmQoc3RyNCk7IGIuYXBwZW5kKHN0cjUpOyBiLmFwcGVuZChzdHI2KTsgYi5hcHBlbmQoc3RyNyk7IGIuYXBwZW5kKHN0cjgpOwogICAgcmV0dXJuIGIudG9DZWxsKCk7Cn0KCmlubGluZSBmdW4gc3RyaW5nX2NvbmNhdF9jb21tZW50OShzdHIxOiBTdHJpbmcsIHN0cjI6IFN0cmluZywgc3RyMzogU3RyaW5nLCBzdHI0OiBTdHJpbmcsIHN0cjU6IFN0cmluZywgc3RyNjogU3RyaW5nLCBzdHI3OiBTdHJpbmcsIHN0cjg6IFN0cmluZywgc3RyOTogU3RyaW5nKTogQ2VsbCB7CiAgICBsZXQgYjogU3RyaW5nQnVpbGRlciA9IGJlZ2luQ29tbWVudCgpOwogICAgYi5hcHBlbmQoc3RyMSk7IGIuYXBwZW5kKHN0cjIpOyBiLmFwcGVuZChzdHIzKTsgYi5hcHBlbmQoc3RyNCk7IGIuYXBwZW5kKHN0cjUpOyBiLmFwcGVuZChzdHI2KTsgYi5hcHBlbmQoc3RyNyk7IGIuYXBwZW5kKHN0cjgpOyBiLmFwcGVuZChzdHI5KTsKICAgIHJldHVybiBiLnRvQ2VsbCgpOwp9CgovLy8gUmV0dXJucyB0aGUgbG93ZXN0IGluZGV4IGluIHRoZSBzdHJpbmcgd2hlcmUgYSBzdWJzdHJpbmcgaXMgZm91bmQuCi8vLyBSZXR1cm5zIC0xIGlmIHRoZSBzdWJzdHJpbmcgaXMgbm90IGZvdW5kLgpleHRlbmRzIGZ1biBzc19maW5kKHNlbGY6IFNsaWNlLCBzdWI6IFNsaWNlKTogSW50IHsKICAgIGxldCBzdWJfYml0czogSW50ID0gc3ViLmJpdHMoKTsKICAgIGxldCBzdHJfYml0czogSW50ID0gc2VsZi5iaXRzKCk7CiAgICBpZiAoc3ViX2JpdHMgPiBzdHJfYml0cykgewogICAgICAgIHJldHVybiAtMTsKICAgIH0KICAgIGxldCBpOiBJbnQgPSAwOwogICAgd2hpbGUgKGkgPCBzdHJfYml0cyAtIHN1Yl9iaXRzICsgMSkgewogICAgICAgIGlmIChfc3RybGliX2VxdWFsU2xpY2VzKHNlbGYucHJlbG9hZEJpdHMoc3ViX2JpdHMpLCBzdWIpICE9IDApIHsKICAgICAgICAgICAgcmV0dXJuIGkgLyA4OwogICAgICAgIH0KICAgICAgICBzZWxmLnNraXBCaXRzKDgpOwogICAgICAgIGkgPSBpICsgODsKICAgIH0KICAgIHJldHVybiAtMTsKfQoKaW5saW5lIGV4dGVuZHMgZnVuIHNzX2ZpbmQoc2VsZjogU3RyaW5nLCBzdWI6IFN0cmluZyk6IEludCB7CiAgICByZXR1cm4gc2VsZi5hc1NsaWNlKCkuc3NfZmluZChzdWIuYXNTbGljZSgpKTsKfQoKLy8vIERldGVybWluZXMgaWYgYSBzaG9ydCBzdHJpbmcgY29udGFpbnMgYSBzdWJzdHJpbmcuCmlubGluZSBleHRlbmRzIGZ1biBzc19jb250YWlucyhzZWxmOiBTbGljZSwgc3ViOiBTbGljZSk6IEJvb2wgewogICAgcmV0dXJuIHNlbGYuc3NfZmluZChzdWIpICE9IC0xOwp9CgppbmxpbmUgZXh0ZW5kcyBmdW4gc3NfY29udGFpbnMoc2VsZjogU3RyaW5nLCBzdWI6IFN0cmluZyk6IEJvb2wgewogICAgcmV0dXJuIHNlbGYuc3NfZmluZChzdWIpICE9IC0xOwp9CgovLy8gRGV0ZXJtaW5lcyBpZiBhIHNob3J0IHN0cmluZyBpcyBlbXB0eSBvciBpZiBhbGwgY2hhcmFjdGVycyBhcmUgQVNDSUkuCi8vLyBBU0NJSSBjaGFyYWN0ZXJzIGFyZSBpbiB0aGUgcmFuZ2UgMHgwMCB0byAweDdGLgpleHRlbmRzIGZ1biBzc19pc19hc2NpaShzZWxmOiBTbGljZSk6IEJvb2wgewogICAgbGV0IGJpdHM6IEludCA9IHNlbGYuYml0cygpOwogICAgbGV0IGk6IEludCA9IDA7CiAgICB3aGlsZSAoaSA8IGJpdHMpIHsKICAgICAgICBpZiAoc2VsZi5sb2FkVWludCg4KSA+IDB4N0YpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpID0gaSArIDg7CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKfQoKaW5saW5lIGV4dGVuZHMgZnVuIHNzX2lzX2FzY2lpKHNlbGY6IFN0cmluZyk6IEJvb2wgewogICAgcmV0dXJuIHNlbGYuYXNTbGljZSgpLnNzX2lzX2FzY2lpKCk7Cn0KCi8vLyBEZXRlcm1pbmVzIGlmIGFsbCBjaGFyYWN0ZXJzIGluIGEgc2hvcnQgc3RyaW5nIGFyZSBhbHBoYW51bWVyaWMgYW5kIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBjaGFyYWN0ZXIuCi8vLyBBbHBoYW51bWVyaWMgY2hhcmFjdGVycyBhcmUgaW4gdGhlIHJhbmdlcyAweDMwIHRvIDB4MzksIDB4NDEgdG8gMHg1QSwgYW5kIDB4NjEgdG8gMHg3QS4KZXh0ZW5kcyBmdW4gc3NfaXNfYWxudW0oc2VsZjogU2xpY2UpOiBCb29sIHsKICAgIGxldCBiaXRzOiBJbnQgPSBzZWxmLmJpdHMoKTsKICAgIGxldCBpOiBJbnQgPSAwOwogICAgd2hpbGUgKGkgPCBiaXRzKSB7CiAgICAgICAgbGV0IHN0cl9hc19pbnQ6IEludCA9IHNlbGYubG9hZFVpbnQoOCk7CiAgICAgICAgaWYgKHN0cl9hc19pbnQgPCAweDMwIHx8IChzdHJfYXNfaW50ID4gMHgzOSAmJiBzdHJfYXNfaW50IDwgMHg0MSkgfHwgKHN0cl9hc19pbnQgPiAweDVBICYmIHN0cl9hc19pbnQgPCAweDYxKSB8fCBzdHJfYXNfaW50ID4gMHg3QSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGkgPSBpICsgODsKICAgIH0KICAgIHJldHVybiB0cnVlOwp9CgppbmxpbmUgZXh0ZW5kcyBmdW4gc3NfaXNfYWxudW0oc2VsZjogU3RyaW5nKTogQm9vbCB7CiAgICByZXR1cm4gc2VsZi5hc1NsaWNlKCkuc3NfaXNfYWxudW0oKTsKfQoKLy8vIERldGVybWluZXMgaWYgYWxsIGNoYXJhY3RlcnMgaW4gYSBzaG9ydCBzdHJpbmcgYXJlIGFscGhhYmV0aWMgYW5kIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBjaGFyYWN0ZXIuCi8vLyBBbHBoYWJldGljIGNoYXJhY3RlcnMgYXJlIGluIHRoZSByYW5nZXMgMHg0MSB0byAweDVBIGFuZCAweDYxIHRvIDB4N0EuCmV4dGVuZHMgZnVuIHNzX2lzX2FscGhhKHNlbGY6IFNsaWNlKTogQm9vbCB7CiAgICBsZXQgYml0czogSW50ID0gc2VsZi5iaXRzKCk7CiAgICBsZXQgaTogSW50ID0gMDsKICAgIHdoaWxlIChpIDwgYml0cykgewogICAgICAgIGxldCBzdHJfYXNfaW50OiBJbnQgPSBzZWxmLmxvYWRVaW50KDgpOwogICAgICAgIGlmICgoc3RyX2FzX2ludCA8IDB4NDEgfHwgc3RyX2FzX2ludCA+IDB4NUEpICYmIChzdHJfYXNfaW50IDwgMHg2MSB8fCBzdHJfYXNfaW50ID4gMHg3QSkpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpID0gaSArIDg7CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKfQoKaW5saW5lIGV4dGVuZHMgZnVuIHNzX2lzX2FscGhhKHNlbGY6IFN0cmluZyk6IEJvb2wgewogICAgcmV0dXJuIHNlbGYuYXNTbGljZSgpLnNzX2lzX2FscGhhKCk7Cn0KCgovLy8gRGV0ZXJtaW5lcyBpZiBhbGwgY2hhcmFjdGVycyBpbiBhIHNob3J0IHN0cmluZyBhcmUgbnVtZXJpYyBhbmQgdGhlcmUgaXMgYXQgbGVhc3Qgb25lIGNoYXJhY3Rlci4KLy8vIE51bWVyaWMgY2hhcmFjdGVycyBhcmUgaW4gdGhlIHJhbmdlIDB4MzAgdG8gMHgzOS4KZXh0ZW5kcyBmdW4gc3NfaXNfZGlnaXQoc2VsZjogU2xpY2UpOiBCb29sIHsKICAgIGxldCBiaXRzOiBJbnQgPSBzZWxmLmJpdHMoKTsKICAgIGxldCBpOiBJbnQgPSAwOwogICAgd2hpbGUgKGkgPCBiaXRzKSB7CiAgICAgICAgbGV0IHN0cl9hc19pbnQ6IEludCA9IHNlbGYubG9hZFVpbnQoOCk7CiAgICAgICAgaWYgKHN0cl9hc19pbnQgPCAweDMwIHx8IHN0cl9hc19pbnQgPiAweDM5KSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgaSA9IGkgKyA4OwogICAgfQogICAgcmV0dXJuIHRydWU7Cn0KCmlubGluZSBleHRlbmRzIGZ1biBzc19pc19kaWdpdChzZWxmOiBTdHJpbmcpOiBCb29sIHsKICAgIHJldHVybiBzZWxmLmFzU2xpY2UoKS5zc19pc19kaWdpdCgpOwp9CgovLy8gRGV0ZXJtaW5lcyBpZiBhbGwgY2hhcmFjdGVycyBpbiBhIHNob3J0IHN0cmluZyBhcmUgaGV4YWRlY2ltYWwgYW5kIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBjaGFyYWN0ZXIuCi8vLyBIZXhhZGVjaW1hbCBjaGFyYWN0ZXJzIGFyZSBpbiB0aGUgcmFuZ2VzIDB4MzAgdG8gMHgzOSwgMHg0MSB0byAweDQ2LCBhbmQgMHg2MSB0byAweDY2LgpleHRlbmRzIGZ1biBzc19pc19oZXhkaWdpdChzZWxmOiBTbGljZSk6IEJvb2wgewogICAgbGV0IGJpdHM6IEludCA9IHNlbGYuYml0cygpOwogICAgbGV0IGk6IEludCA9IDA7CiAgICB3aGlsZSAoaSA8IGJpdHMpIHsKICAgICAgICBsZXQgc3RyX2FzX2ludDogSW50ID0gc2VsZi5sb2FkVWludCg4KTsKICAgICAgICBpZiAoc3RyX2FzX2ludCA8IDB4MzAgfHwgKHN0cl9hc19pbnQgPiAweDM5ICYmIHN0cl9hc19pbnQgPCAweDQxKSB8fCAoc3RyX2FzX2ludCA+IDB4NDYgJiYgc3RyX2FzX2ludCA8IDB4NjEpIHx8IHN0cl9hc19pbnQgPiAweDY2KSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgaSA9IGkgKyA4OwogICAgfQogICAgcmV0dXJuIHRydWU7Cn0KCmlubGluZSBleHRlbmRzIGZ1biBzc19pc19oZXhkaWdpdChzZWxmOiBTdHJpbmcpOiBCb29sIHsKICAgIHJldHVybiBzZWxmLmFzU2xpY2UoKS5zc19pc19oZXhkaWdpdCgpOwp9CgovLy8gRGV0ZXJtaW5lcyBpZiBhbGwgY2hhcmFjdGVycyBpbiBhIHNob3J0IHN0cmluZyBhcmUgaGV4YWRlY2ltYWwgd2l0aCAweCBvciAwWCBwcmVmaXggYW5kIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBjaGFyYWN0ZXIuCi8vLyBIZXhhZGVjaW1hbCBjaGFyYWN0ZXJzIGFyZSBpbiB0aGUgcmFuZ2VzIDB4MzAgdG8gMHgzOSwgMHg0MSB0byAweDQ2LCAweDYxIHRvIDB4NjYsIDB4NTggYW5kIDB4NzguCmV4dGVuZHMgZnVuIHNzX2lzX2hleChzZWxmOiBTbGljZSk6IEJvb2wgewogICAgbGV0IGJpdHM6IEludCA9IHNlbGYuYml0cygpOwogICAgbGV0IGk6IEludCA9IDA7CiAgICB3aGlsZSAoaSA8IGJpdHMpIHsKICAgICAgICBsZXQgc3RyX2FzX2ludDogSW50ID0gc2VsZi5sb2FkVWludCg4KTsKICAgICAgICBpZiAoc3RyX2FzX2ludCA8IDB4MzAgfHwgKHN0cl9hc19pbnQgPiAweDM5ICYmIHN0cl9hc19pbnQgPCAweDQxKSB8fCAoc3RyX2FzX2ludCA+IDB4NDYgJiYgc3RyX2FzX2ludCA8IDB4NjEpIHx8IHN0cl9hc19pbnQgPiAweDY2IHx8IHN0cl9hc19pbnQgIT0gMHg1OCB8fCBzdHJfYXNfaW50ICE9IDB4NzgpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpID0gaSArIDg7CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKfQoKaW5saW5lIGV4dGVuZHMgZnVuIHNzX2lzX2hleChzZWxmOiBTdHJpbmcpOiBCb29sIHsKICAgIHJldHVybiBzZWxmLmFzU2xpY2UoKS5zc19pc19oZXgoKTsKfQoKLy8vIERldGVybWluZXMgaWYgYWxsIGNoYXJhY3RlcnMgaW4gYSBzaG9ydCBzdHJpbmcgYXJlIGxvd2VyY2FzZSBhbmQgdGhlcmUgaXMgYXQgbGVhc3Qgb25lIGNoYXJhY3Rlci4KLy8vIExvd2VyY2FzZSBjaGFyYWN0ZXJzIGFyZSBpbiB0aGUgcmFuZ2UgMHg2MSB0byAweDdBLgpleHRlbmRzIGZ1biBzc19pc19sb3dlcihzZWxmOiBTbGljZSk6IEJvb2wgewogICAgbGV0IGJpdHM6IEludCA9IHNlbGYuYml0cygpOwogICAgbGV0IGk6IEludCA9IDA7CiAgICB3aGlsZSAoaSA8IGJpdHMpIHsKICAgICAgICBsZXQgc3RyX2FzX2ludDogSW50ID0gc2VsZi5sb2FkVWludCg4KTsKICAgICAgICBpZiAoc3RyX2FzX2ludCA8IDB4NjEgfHwgc3RyX2FzX2ludCA+IDB4N0EpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICBpID0gaSArIDg7CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKfQoKaW5saW5lIGV4dGVuZHMgZnVuIHNzX2lzX2xvd2VyKHNlbGY6IFN0cmluZyk6IEJvb2wgewogICAgcmV0dXJuIHNlbGYuYXNTbGljZSgpLnNzX2lzX2xvd2VyKCk7Cn0KCi8vLyBEZXRlcm1pbmVzIGlmIGFsbCBjaGFyYWN0ZXJzIGluIGEgc2hvcnQgc3RyaW5nIGFyZSB1cHBlcmNhc2UgYW5kIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBjaGFyYWN0ZXIuCi8vLyBVcHBlcmNhc2UgY2hhcmFjdGVycyBhcmUgaW4gdGhlIHJhbmdlIDB4NDEgdG8gMHg1QS4KZXh0ZW5kcyBmdW4gc3NfaXNfdXBwZXIoc2VsZjogU2xpY2UpOiBCb29sIHsKICAgIGxldCBiaXRzOiBJbnQgPSBzZWxmLmJpdHMoKTsKICAgIGxldCBpOiBJbnQgPSAwOwogICAgd2hpbGUgKGkgPCBiaXRzKSB7CiAgICAgICAgbGV0IHN0cl9hc19pbnQ6IEludCA9IHNlbGYubG9hZFVpbnQoOCk7CiAgICAgICAgaWYgKHN0cl9hc19pbnQgPCAweDQxIHx8IHN0cl9hc19pbnQgPiAweDVBKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgaSA9IGkgKyA4OwogICAgfQogICAgcmV0dXJuIHRydWU7Cn0KCmlubGluZSBleHRlbmRzIGZ1biBzc19pc191cHBlcihzZWxmOiBTdHJpbmcpOiBCb29sIHsKICAgIHJldHVybiBzZWxmLmFzU2xpY2UoKS5zc19pc191cHBlcigpOwp9CgovLy8gUGFyc2VzIGEgc2hvcnQgc3RyaW5nIGFzIGFuIHVuc2lnbmVkIGludGVnZXIuCi8vLyBgYmFzZWAgaXMgdGhlIGJhc2UgdG8gcGFyc2UgdGhlIGludGVnZXIgaW4uIFBvc3NpYmxlIHZhbHVlcyBhcmUgMCwgMiwgOCwgMTAsIGFuZCAxNi4KLy8vIElmIGBiYXNlYCBpcyBzcGVjaWZpZWQsIHRoZW4gdGhlIHN0cmluZyBtYXkgbm90IGNvbnRhaW4gYSBwcmVmaXguCi8vLyBJZiBgYmFzZWAgaXMgMCwgdGhlIGJhc2UgaXMgZGV0ZXJtaW5lZCBmcm9tIHRoZSBwcmVmaXggb2YgdGhlIHN0cmluZzoKLy8vIC0gSWYgdGhlIHN0cmluZyBzdGFydHMgd2l0aCAiMHgiIG9yICIwWCIsIHRoZSBiYXNlIGlzIDE2LgovLy8gLSBJZiB0aGUgc3RyaW5nIHN0YXJ0cyB3aXRoICIwYiIgb3IgIjBCIiwgdGhlIGJhc2UgaXMgMi4KLy8vIC0gSWYgdGhlIHN0cmluZyBzdGFydHMgd2l0aCAiMCIsIHRoZSBiYXNlIGlzIDguCi8vLyAtIE90aGVyd2lzZSwgdGhlIGJhc2UgaXMgMTAuCi8vLyBUaGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIDAgaWYgdGhlIHN0cmluZyBpcyBlbXB0eSBvciBpZiB0aGUgc3RyaW5nIGRvZXMgbm90IGNvbnRhaW4gYSB2YWxpZCBpbnRlZ2VyLgovLy8gVGhpcyBmdW5jdGlvbiB3aWxsIHRyeSBwYXJzaW5nIGNoYXJhY3RlcnMgdW50aWwgaXQgZW5jb3VudGVycyBhIG5vbi1udW1lcmljIGNoYXJhY3Rlci4KZXh0ZW5kcyBmdW4gc3NfcGFyc2VfdWludChzZWxmOiBTbGljZSwgYmFzZTogSW50KTogSW50IHsKICAgIGxldCBhY3R1YWxfYmFzZTogSW50ID0gYmFzZTsKICAgIGlmIChiYXNlID09IDApIHsKICAgICAgICBpZiAoc2VsZi5zc19zdGFydHNfd2l0aCgiMHgiLmFzU2xpY2UoKSkgfHwgc2VsZi5zc19zdGFydHNfd2l0aCgiMFgiLmFzU2xpY2UoKSkpIHsKICAgICAgICAgICAgYWN0dWFsX2Jhc2UgPSAxNjsKICAgICAgICAgICAgc2VsZi5za2lwQml0cygxNik7CiAgICAgICAgfSBlbHNlIGlmIChzZWxmLnNzX3N0YXJ0c193aXRoKCIwYiIuYXNTbGljZSgpKSB8fCBzZWxmLnNzX3N0YXJ0c193aXRoKCIwQiIuYXNTbGljZSgpKSkgewogICAgICAgICAgICBhY3R1YWxfYmFzZSA9IDI7CiAgICAgICAgICAgIHNlbGYuc2tpcEJpdHMoMTYpOwogICAgICAgIH0gZWxzZSBpZiAoc2VsZi5zc19zdGFydHNfd2l0aCgiMCIuYXNTbGljZSgpKSkgewogICAgICAgICAgICBhY3R1YWxfYmFzZSA9IDg7CiAgICAgICAgICAgIHNlbGYuc2tpcEJpdHMoOCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWN0dWFsX2Jhc2UgPSAxMDsKICAgICAgICB9CiAgICB9CiAgICBsZXQgcmVzOiBJbnQgPSAwOwogICAgbGV0IGk6IEludCA9IDA7CiAgICBsZXQgYml0czogSW50ID0gc2VsZi5iaXRzKCk7CiAgICBpZiAoYWN0dWFsX2Jhc2UgPT0gMTYpIHsKICAgICAgICByZXMgPSBzZWxmLnNzX3BhcnNlX3VpbnRfaGV4KCk7CiAgICB9IGVsc2UgaWYgKGFjdHVhbF9iYXNlID09IDEwKSB7CiAgICAgICAgcmVzID0gc2VsZi5zc19wYXJzZV91aW50X2RlYygpOwogICAgfSBlbHNlIGlmIChhY3R1YWxfYmFzZSA9PSA4KSB7CiAgICAgICAgcmVzID0gc2VsZi5zc19wYXJzZV91aW50X29jdCgpOwogICAgfSBlbHNlIGlmIChhY3R1YWxfYmFzZSA9PSAyKSB7CiAgICAgICAgcmVzID0gc2VsZi5zc19wYXJzZV91aW50X2JpbigpOwogICAgfQogICAgcmV0dXJuIHJlczsKfQoKaW5saW5lIGV4dGVuZHMgZnVuIHNzX3BhcnNlX3VpbnQoc2VsZjogU3RyaW5nLCBiYXNlOiBJbnQpOiBJbnQgewogICAgcmV0dXJuIHNlbGYuYXNTbGljZSgpLnNzX3BhcnNlX3VpbnQoYmFzZSk7Cn0KCmV4dGVuZHMgZnVuIHNzX3BhcnNlX3VpbnRfYmluKHNlbGY6IFNsaWNlKTogSW50IHsKICAgIGxldCByZXM6IEludCA9IDA7CiAgICBsZXQgaTogSW50ID0gMDsKICAgIGxldCBiaXRzOiBJbnQgPSBzZWxmLmJpdHMoKTsKICAgIHdoaWxlIChpIDwgYml0cykgewogICAgICAgIHJlcyA9IHJlcyA8PCAxOwogICAgICAgIGxldCBzdHJfYXNfaW50OiBJbnQgPSBzZWxmLmxvYWRVaW50KDgpOwogICAgICAgIGlmIChzdHJfYXNfaW50ID49IDB4MzAgJiYgc3RyX2FzX2ludCA8PSAweDMxKSB7CiAgICAgICAgICAgIHN0cl9hc19pbnQgPSBzdHJfYXNfaW50IC0gMHgzMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzdHJfYXNfaW50ID0gMDsKICAgICAgICAgICAgaSA9IGJpdHM7IC8vIGJyZWFrOwogICAgICAgIH0KICAgICAgICByZXMgPSByZXMgKyBzdHJfYXNfaW50OwogICAgICAgIGkgPSBpICsgODsKICAgIH0KICAgIHJldHVybiByZXM7Cn0KCmlubGluZSBleHRlbmRzIGZ1biBzc19wYXJzZV91aW50X2JpbihzZWxmOiBTdHJpbmcpOiBJbnQgewogICAgcmV0dXJuIHNlbGYuYXNTbGljZSgpLnNzX3BhcnNlX3VpbnRfYmluKCk7Cn0KCmV4dGVuZHMgZnVuIHNzX3BhcnNlX3VpbnRfb2N0KHNlbGY6IFNsaWNlKTogSW50IHsKICAgIGxldCByZXM6IEludCA9IDA7CiAgICBsZXQgaTogSW50ID0gMDsKICAgIGxldCBiaXRzOiBJbnQgPSBzZWxmLmJpdHMoKTsKICAgIHdoaWxlIChpIDwgYml0cykgewogICAgICAgIHJlcyA9IHJlcyA8PCAzOwogICAgICAgIGxldCBzdHJfYXNfaW50OiBJbnQgPSBzZWxmLmxvYWRVaW50KDgpOwogICAgICAgIGlmIChzdHJfYXNfaW50ID49IDB4MzAgJiYgc3RyX2FzX2ludCA8PSAweDM3KSB7CiAgICAgICAgICAgIHN0cl9hc19pbnQgPSBzdHJfYXNfaW50IC0gMHgzMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzdHJfYXNfaW50ID0gMDsKICAgICAgICAgICAgaSA9IGJpdHM7IC8vIGJyZWFrOwogICAgICAgIH0KICAgICAgICByZXMgPSByZXMgKyBzdHJfYXNfaW50OwogICAgICAgIGkgPSBpICsgODsKICAgIH0KICAgIHJldHVybiByZXM7Cn0KCmlubGluZSBleHRlbmRzIGZ1biBzc19wYXJzZV91aW50X29jdChzZWxmOiBTdHJpbmcpOiBJbnQgewogICAgcmV0dXJuIHNlbGYuYXNTbGljZSgpLnNzX3BhcnNlX3VpbnRfb2N0KCk7Cn0KCmV4dGVuZHMgZnVuIHNzX3BhcnNlX3VpbnRfaGV4KHNlbGY6IFNsaWNlKTogSW50IHsKICAgIGxldCByZXM6IEludCA9IDA7CiAgICBsZXQgaTogSW50ID0gMDsKICAgIGxldCBiaXRzOiBJbnQgPSBzZWxmLmJpdHMoKTsKICAgIHdoaWxlIChpIDwgYml0cykgewogICAgICAgIHJlcyA9IHJlcyA8PCA0OwogICAgICAgIGxldCBzdHJfYXNfaW50OiBJbnQgPSBzZWxmLmxvYWRVaW50KDgpOwogICAgICAgIGlmIChzdHJfYXNfaW50ID49IDB4MzAgJiYgc3RyX2FzX2ludCA8PSAweDM5KSB7CiAgICAgICAgICAgIHN0cl9hc19pbnQgPSBzdHJfYXNfaW50IC0gMHgzMDsKICAgICAgICB9IGVsc2UgaWYgKHN0cl9hc19pbnQgPj0gMHg0MSAmJiBzdHJfYXNfaW50IDw9IDB4NDYpIHsKICAgICAgICAgICAgc3RyX2FzX2ludCA9IHN0cl9hc19pbnQgLSAweDQxICsgMTA7CiAgICAgICAgfSBlbHNlIGlmIChzdHJfYXNfaW50ID49IDB4NjEgJiYgc3RyX2FzX2ludCA8PSAweDY2KSB7CiAgICAgICAgICAgIHN0cl9hc19pbnQgPSBzdHJfYXNfaW50IC0gMHg2MSArIDEwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHN0cl9hc19pbnQgPSAwOwogICAgICAgICAgICBpID0gYml0czsgLy8gYnJlYWs7CiAgICAgICAgfQogICAgICAgIHJlcyA9IHJlcyArIHN0cl9hc19pbnQ7CiAgICAgICAgaSA9IGkgKyA4OwogICAgfQogICAgcmV0dXJuIHJlczsKfQoKaW5saW5lIGV4dGVuZHMgZnVuIHNzX3BhcnNlX3VpbnRfaGV4KHNlbGY6IFN0cmluZyk6IEludCB7CiAgICByZXR1cm4gc2VsZi5hc1NsaWNlKCkuc3NfcGFyc2VfdWludF9oZXgoKTsKfQoKZXh0ZW5kcyBmdW4gc3NfcGFyc2VfdWludF9kZWMoc2VsZjogU2xpY2UpOiBJbnQgewogICAgbGV0IHJlczogSW50ID0gMDsKICAgIGxldCBpOiBJbnQgPSAwOwogICAgbGV0IGJpdHM6IEludCA9IHNlbGYuYml0cygpOwogICAgd2hpbGUgKGkgPCBiaXRzKSB7CiAgICAgICAgcmVzID0gcmVzICogMTA7CiAgICAgICAgbGV0IHN0cl9hc19pbnQ6IEludCA9IHNlbGYubG9hZFVpbnQoOCk7CiAgICAgICAgaWYgKHN0cl9hc19pbnQgPj0gMHgzMCAmJiBzdHJfYXNfaW50IDw9IDB4MzkpIHsKICAgICAgICAgICAgc3RyX2FzX2ludCA9IHN0cl9hc19pbnQgLSAweDMwOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHN0cl9hc19pbnQgPSAwOwogICAgICAgICAgICBpID0gYml0czsgLy8gYnJlYWs7CiAgICAgICAgfQogICAgICAgIHJlcyA9IHJlcyArIHN0cl9hc19pbnQ7CiAgICAgICAgaSA9IGkgKyA4OwogICAgfQogICAgcmV0dXJuIHJlczsKfQoKaW5saW5lIGV4dGVuZHMgZnVuIHNzX3BhcnNlX3VpbnRfZGVjKHNlbGY6IFN0cmluZyk6IEludCB7CiAgICByZXR1cm4gc2VsZi5hc1NsaWNlKCkuc3NfcGFyc2VfdWludF9kZWMoKTsKfQoKLy8vIFBhcnNlcyBhIHNob3J0IHN0cmluZyBhcyB0b2tlbnMuCi8vLyBBIHRva2VuIGlzIGluIHRoZSBmb3JtIG9mIGBpbnRlZ2VyYCBvciBgMTIzbmAgaW50ZXJwcmV0ZWQgYXMgbmFub3RvbnMsIG9yIGBpbnRlZ2VyLmRlY2ltYWxgLCBgaW50ZWdlci5gIG9yIGAuZGVjaW1hbGAgaW50ZXJwcmV0ZWQgYXMgdG9ucy4KLy8vIFRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgaXMgYXNzdW1lZCB0byBiZSA5LgovLy8gVGhpcyBmdW5jdGlvbiB3aWxsIHJldHVybiAwIGlmIHRoZSBzdHJpbmcgaXMgZW1wdHkgb3IgaWYgdGhlIHN0cmluZyBkb2VzIG5vdCBjb250YWluIGEgdmFsaWQgdG9rZW4uCi8vLyBUaGlzIGZ1bmN0aW9uIHdpbGwgdHJ5IHBhcnNpbmcgY2hhcmFjdGVycyB1bnRpbCBpdCBlbmNvdW50ZXJzIGEgbm9uLXZhbGlkIGNoYXJhY3Rlci4KLy8vIFRoZSBvdXRwdXQgaXMgYW4gaW50ZWdlciB3aXRoIDkgZGVjaW1hbCBwbGFjZXMuCmV4dGVuZHMgZnVuIHNzX3BhcnNlX3Rva2VucyhzZWxmOiBTbGljZSk6IEludCB7CiAgICBsZXQgaTogSW50ID0gMDsKICAgIGxldCBpbnRlZ2VyOiBJbnQgPSAwOwogICAgbGV0IGRlY2ltYWw6IEludCA9IDA7CiAgICBsZXQgZGVjaW1hbF9wbGFjZXM6IEludCA9IC0xOwogICAgbGV0IGJpdHM6IEludCA9IHNlbGYuYml0cygpOwogICAgd2hpbGUgKGkgPCBiaXRzICYmIGRlY2ltYWxfcGxhY2VzIDwgOSkgewogICAgICAgIGxldCBzdHJfYXNfaW50OiBJbnQgPSBzZWxmLmxvYWRVaW50KDgpOwogICAgICAgIGlmIChzdHJfYXNfaW50ID49IDB4MzAgJiYgc3RyX2FzX2ludCA8PSAweDM5KSB7CiAgICAgICAgICAgIGlmIChkZWNpbWFsX3BsYWNlcyA+PSAwKSB7CiAgICAgICAgICAgICAgICBkZWNpbWFsID0gZGVjaW1hbCAqIDEwICsgc3RyX2FzX2ludCAtIDB4MzA7CiAgICAgICAgICAgICAgICBkZWNpbWFsX3BsYWNlcyA9IGRlY2ltYWxfcGxhY2VzICsgMTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGludGVnZXIgPSBpbnRlZ2VyICogMTAgKyBzdHJfYXNfaW50IC0gMHgzMDsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoc3RyX2FzX2ludCA9PSAweDJFKSB7ICAvLyAuCiAgICAgICAgICAgIGlmIChkZWNpbWFsX3BsYWNlcyA+PSAwKSB7CiAgICAgICAgICAgICAgICBpID0gYml0czsgLy8gYnJlYWs7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBkZWNpbWFsX3BsYWNlcyA9IDA7CiAgICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKHN0cl9hc19pbnQgPT0gMHg1RikgeyAgLy8gdW5kZXJzY29yZQogICAgICAgICAgICAvLyBkbyBub3RoaW5nCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaSA9IGJpdHM7IC8vIGJyZWFrOwogICAgICAgIH0KICAgICAgICBpID0gaSArIDg7CiAgICB9CiAgICBpZiAoZGVjaW1hbF9wbGFjZXMgPj0gMCkgewogICAgICAgIHdoaWxlIChkZWNpbWFsX3BsYWNlcyA8IDkpIHsKICAgICAgICAgICAgZGVjaW1hbCA9IGRlY2ltYWwgKiAxMDsKICAgICAgICAgICAgZGVjaW1hbF9wbGFjZXMgPSBkZWNpbWFsX3BsYWNlcyArIDE7CiAgICAgICAgfQogICAgICAgIHJldHVybiBpbnRlZ2VyICogMTAwMDAwMDAwMCArIGRlY2ltYWw7CiAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBpbnRlZ2VyOwogICAgfQp9CgppbmxpbmUgZXh0ZW5kcyBmdW4gc3NfcGFyc2VfdG9rZW5zKHNlbGY6IFN0cmluZyk6IEludCB7CiAgICByZXR1cm4gc2VsZi5hc1NsaWNlKCkuc3NfcGFyc2VfdG9rZW5zKCk7Cn0KCi8vLyBQYXJzZXMgYSBzaG9ydCBzdHJpbmcgYXMgYW4gQWRkcmVzcyBpbiBFUSBvciBVUSBmb3JtYXQuCi8vLyBQYXJzZXMgdGhlIGZpcnN0IDQ4IGNoYXJzIGlmIGlucHV0IGlzIGxvbmdlci4KLy8vIFJldHVybnMgdGhlIGFkZHJlc3MgYXMgYSBgU2xpY2VgIHRoYXQgY2FuIGJlIGxvYWRlZCB1c2luZyBgbG9hZEFkZHJlc3NgLgovLy8gTm90ZTogVE9OIEVRL1VRIGFkZHJlc3NlcyBhcmUgNDggY2hhcmFjdGVycyBsb25nIGFuZCBhcmUgZW5jb2RlZCBpbiBiYXNlNjR1cmwgKFJGQzQ1NDggY2guNSkuCi8vLyBJdCBkZWNvZGVzIHRvIDI4OCBiaXRzICgzNiBieXRlcykgYW5kIGhhcyBmb3JtYXQ6IAovLy8gPEUvVSAxIGJ5dGU+IDxjaGFpbiBpZCAxIGJ5dGU+IDxhZGRyIDMyIGJ5dGVzPiA8Y3JjIDIgYnl0ZXM+Ci8vLyBBZGRyZXNzIGluIFNsaWNlIGlzIHN0b3JlZCBhcyAyNjcgYml0czogaHR0cHM6Ly9kb2NzLnRvbi5vcmcvZGV2ZWxvcC9kYXRhLWZvcm1hdHMvbXNnLXRsYiNhZGRyX3N0ZDEwCi8vLyA8MTEgYml0cz4gPHNpemUgMjU2IGJpdHM+Ci8vLyBOb3RlOiBUaGUgY2hlY2tzdW0gaXMgbm90IHZlcmlmaWVkLgpleHRlbmRzIGZ1biBzc19wYXJzZV9hZGRyZXNzKHNlbGY6IFNsaWNlKTogU2xpY2UgewogICAgbGV0IGJpdHM6IEludCA9IHNlbGYuYml0cygpOwogICAgcmVxdWlyZShiaXRzID49IDM4NCwgIlN0cmxpYjo6c3NfcGFyc2VfYWRkcmVzczogSW52YWxpZCBhZGRyZXNzIik7CiAgICBsZXQgYWRkcl9kZWM6IFNsaWNlID0gc2VsZi5wcmVsb2FkQml0cygzODQpLmZyb21CYXNlNjQoKTsKICAgIGFkZHJfZGVjLnNraXBCaXRzKDE2KTsKICAgIGxldCBhZGRyOiBJbnQgPSBhZGRyX2RlYy5wcmVsb2FkVWludCgyNTYpOwogICAgcmV0dXJuIGJlZ2luQ2VsbCgpLnN0b3JlVWludCgxMDI0LCAxMSkuc3RvcmVVaW50KGFkZHIsIDI1NikuYXNTbGljZSgpOwp9CgppbmxpbmUgZXh0ZW5kcyBmdW4gc3NfcGFyc2VfYWRkcmVzcyhzZWxmOiBTdHJpbmcpOiBTbGljZSB7CiAgICByZXR1cm4gc2VsZi5hc1NsaWNlKCkuc3NfcGFyc2VfYWRkcmVzcygpOwp9CgovLy8gQ29udmVydCBhIHNob3J0IHN0cmluZyBhcyBhbiBBZGRyZXNzIGluIEVRIG9yIFVRIGZvcm1hdCB0byBhbiBhZGRyZXNzIGluIGhleCBmb3JtYXQuCi8vLyBQYXJzZXMgdGhlIGZpcnN0IDQ4IGNoYXJzIGlmIGlucHV0IGlzIGxvbmdlci4KLy8vIGBwcmVmaXhgIGlzIHdoZXRoZXIgdGhlIG91dHB1dCBzaG91bGQgaGF2ZSBhICIwOiIgcHJlZml4LgovLy8gUmV0dXJucyB0aGUgYWRkcmVzcyBhcyBhIGBTbGljZWAgdGhhdCBjYW4gYmUgY29udmVydGVkIHRvIGEgYFN0cmluZ2AgdXNpbmcgYGFzU3RyaW5nKClgLgovLy8gTm90ZTogVGhlIGNoZWNrc3VtIGlzIG5vdCB2ZXJpZmllZC4KLy8vIE5vdGU6IE9ubHkgc3VwcG9ydHMgd29ya2NoYWluIDAuCmV4dGVuZHMgZnVuIHNzX2FkZHJlc3NfdG9faGV4KHNlbGY6IFNsaWNlLCBwcmVmaXg6IEJvb2wpOiBTbGljZSB7CiAgICBsZXQgYml0czogSW50ID0gc2VsZi5iaXRzKCk7CiAgICByZXF1aXJlKGJpdHMgPj0gMzg0LCAiU3RybGliOjpzc19hZGRyZXNzX3RvX2hleDogSW52YWxpZCBhZGRyZXNzIik7CiAgICBsZXQgYWRkcl9kZWM6IFNsaWNlID0gc2VsZi5wcmVsb2FkQml0cygzODQpLmZyb21CYXNlNjQoKTsKICAgIGFkZHJfZGVjLnNraXBCaXRzKDE2KTsKICAgIGxldCBhZGRyOiBJbnQgPSBhZGRyX2RlYy5wcmVsb2FkVWludCgyNTYpOwogICAgaWYgKHByZWZpeCkgewogICAgICAgIHJldHVybiBzc19jb25jYXQoIjA6Ii5hc1NsaWNlKCksIGFkZHIudG9faGV4KDY0LCBmYWxzZSkpOwogICAgfQogICAgcmV0dXJuIGFkZHIudG9faGV4KDY0LCBmYWxzZSk7Cn0KCmlubGluZSBleHRlbmRzIGZ1biBzc19hZGRyZXNzX3RvX2hleChzZWxmOiBTdHJpbmcsIHByZWZpeDogQm9vbCk6IFNsaWNlIHsKICAgIHJldHVybiBzZWxmLmFzU2xpY2UoKS5zc19hZGRyZXNzX3RvX2hleChwcmVmaXgpOwp9CgovLy8gQ29udmVydHMgYW4gQWRkcmVzcyB0byBhIEVRL1VRIHN0cmluZy4KLy8vIGBib3VuY2VhYmxlYCBpcyB3aGV0aGVyIHRoZSBhZGRyZXNzIGlzIGJvdW5jZWFibGUgKEVRKSBvciBub24tYm91bmNlYWJsZSAoVVEpLgovLy8gUmV0dXJucyBhIGBTbGljZWAgdGhhdCBjYW4gYmUgY29udmVydGVkIHRvIGEgYFN0cmluZ2AgdXNpbmcgYGFzU3RyaW5nKClgLgpleHRlbmRzIGZ1biB0b19iYXNlNjQoc2VsZjogQWRkcmVzcywgYm91bmNlYWJsZTogQm9vbCk6IFNsaWNlIHsKICAgIGxldCBiOiBCdWlsZGVyID0gYmVnaW5DZWxsKCk7CiAgICBpZiAoYm91bmNlYWJsZSkgewogICAgICAgIGIgPSBiLnN0b3JlVWludCg0MzUyLCAxNik7CiAgICB9IGVsc2UgewogICAgICAgIGIgPSBiLnN0b3JlVWludCgyMDczNiwgMTYpOwogICAgfQogICAgbGV0IHM6IFNsaWNlID0gc2VsZi5hc1NsaWNlKCk7CiAgICBzLnNraXBCaXRzKDExKTsKICAgIGxldCBhZGRyOiBJbnQgPSBzLnByZWxvYWRVaW50KDI1Nik7CiAgICBiID0gYi5zdG9yZVVpbnQoYWRkciwgMjU2KTsKICAgIGIgPSBiLnN0b3JlVWludChfc3RybGliX2NyYzE2KGIuYXNTbGljZSgpKSwgMTYpOwogICAgcmV0dXJuIGIuYXNTbGljZSgpLnRvQmFzZTY0KCk7Cn0KCi8vLyBDb252ZXJ0cyBhbiBBZGRyZXNzIHRvIGEgaGV4IHN0cmluZy4KLy8vIGBwcmVmaXhgIGlzIHdoZXRoZXIgdGhlIG91dHB1dCBzaG91bGQgaGF2ZSBhICIwOiIgcHJlZml4LgovLy8gUmV0dXJucyBhIGBTbGljZWAgdGhhdCBjYW4gYmUgY29udmVydGVkIHRvIGEgYFN0cmluZ2AgdXNpbmcgYGFzU3RyaW5nKClgLgpleHRlbmRzIGZ1biB0b19oZXgoc2VsZjogQWRkcmVzcywgcHJlZml4OiBCb29sKTogU2xpY2UgewogICAgbGV0IHM6IFNsaWNlID0gc2VsZi5hc1NsaWNlKCk7CiAgICBzLnNraXBCaXRzKDExKTsKICAgIGxldCBhZGRyOiBJbnQgPSBzLnByZWxvYWRVaW50KDI1Nik7CiAgICBpZiAocHJlZml4KSB7CiAgICAgICAgcmV0dXJuIHNzX2NvbmNhdCgiMDoiLmFzU2xpY2UoKSwgYWRkci50b19oZXgoNjQsIGZhbHNlKSk7CiAgICB9CiAgICByZXR1cm4gYWRkci50b19oZXgoNjQsIGZhbHNlKTsKfQoKLy8vIENvbnZlcnRzIGFuIGludGVnZXIgdG8gYSBoZXggc3RyaW5nLgovLy8gYG51bWAgaXMgdGhlIGludGVnZXIgdG8gY29udmVydC4KLy8vIGBuaWJibGVzYCBpcyB0aGUgbnVtYmVyIG9mIG5pYmJsZXMoNC1iaXRzLCBvciBhIGhleCBjaGFyYWN0ZXIpIHRoZSBvdXRwdXQgc2hvdWxkIGhhdmUuCi8vLyBgcHJlZml4YCBpcyB3aGV0aGVyIHRoZSBvdXRwdXQgc2hvdWxkIGhhdmUgYSAiMHgiIHByZWZpeC4KLy8vIElmIGBuaWJibGVzYCBpcyBsZXNzIHRoYW4gdGhlIG51bWJlciBvZiBuaWJibGVzIG5lZWRlZCB0byByZXByZXNlbnQgYG51bWAsIHRoZSBvdXRwdXQgd2lsbCBoYXZlIHRoZSBNU0JzIHRydW5jYXRlZC4KLy8vIElmIGBuaWJibGVzYCBpcyAwIHRoZW4gdGhlIG91dHB1dCB3aWxsIGhhdmUgdGhlIG1pbmltdW0gbnVtYmVyIG9mIG5pYmJsZXMgbmVlZGVkIHRvIHJlcHJlc2VudCBgbnVtYC4KLy8vIElmIGBuaWJibGVzYCBpcyBncmVhdGVyIHRoYW4gdGhlIG51bWJlciBvZiBuaWJibGVzIG5lZWRlZCB0byByZXByZXNlbnQgYG51bWAsIHRoZSBvdXRwdXQgd2lsbCBiZSBsZWZ0LXBhZGRlZCB3aXRoIDBzLgovLy8gUmV0dXJucyBhIGBTbGljZWAgdGhhdCBjYW4gYmUgY29udmVydGVkIHRvIGEgYFN0cmluZ2AgdXNpbmcgYGFzU3RyaW5nKClgLgpleHRlbmRzIGZ1biB0b19oZXgoc2VsZjogSW50LCBuaWJibGVzOiBJbnQsIHByZWZpeDogQm9vbCk6IFNsaWNlIHsKICAgIGxldCBiOiBCdWlsZGVyID0gYmVnaW5DZWxsKCk7CiAgICBpZiAocHJlZml4KSB7CiAgICAgICAgYiA9IGIuc3RvcmVVaW50KDEyNDA4LCAxNik7IC8vICIweCIKICAgIH0KICAgIGlmIChuaWJibGVzID09IDApIHsKICAgICAgICBsZXQgbjogSW50ID0gc2VsZjsKICAgICAgICB3aGlsZSAobiA+IDApIHsKICAgICAgICAgICAgbiA9IG4gPj4gNDsKICAgICAgICAgICAgbmliYmxlcyA9IG5pYmJsZXMgKyAxOwogICAgICAgIH0KICAgIH0KICAgIGxldCBpOiBJbnQgPSAwOwogICAgd2hpbGUgKGkgPCBuaWJibGVzKSB7CiAgICAgICAgbGV0IG5pYmJsZTogSW50ID0gKHNlbGYgPj4gKDQgKiAobmliYmxlcyAtIGkgLSAxKSkpICYgMHhGOwogICAgICAgIGlmIChuaWJibGUgPCAxMCkgewogICAgICAgICAgICBiID0gYi5zdG9yZVVpbnQobmliYmxlICsgNDgsIDgpOyAvLyAwLTkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBiID0gYi5zdG9yZVVpbnQobmliYmxlICsgODcsIDgpOyAvLyBhLWYKICAgICAgICB9CiAgICAgICAgaSA9IGkgKyAxOwogICAgfQogICAgcmV0dXJuIGIuYXNTbGljZSgpOwp9CgovLy8gQ29udmVydHMgYSBTbGljZSB0byBhIGhleCBzdHJpbmcuCi8vLyBgcHJlZml4YCBpcyB3aGV0aGVyIHRoZSBvdXRwdXQgc2hvdWxkIGhhdmUgYSAiMHgiIHByZWZpeC4KLy8vIFJldHVybnMgYSBgU2xpY2VgIHRoYXQgY2FuIGJlIGNvbnZlcnRlZCB0byBhIGBTdHJpbmdgIHVzaW5nIGBhc1N0cmluZygpYC4KZXh0ZW5kcyBmdW4gdG9faGV4KHNlbGY6IFNsaWNlLCBwcmVmaXg6IEJvb2wpOiBTbGljZSB7CiAgICBsZXQgYjogQnVpbGRlciA9IGJlZ2luQ2VsbCgpOwogICAgaWYgKHByZWZpeCkgewogICAgICAgIGIgPSBiLnN0b3JlVWludCgxMjQwOCwgMTYpOyAvLyAiMHgiCiAgICB9CiAgICBsZXQgYml0czogSW50ID0gc2VsZi5iaXRzKCk7CiAgICBpZiAoYml0cyAlIDQgIT0gMCkgewogICAgICAgIGxldCBmaXJzdF9uaWJibGU6IEludCA9IHNlbGYubG9hZFVpbnQoYml0cyAlIDQpOwogICAgICAgIGlmIChmaXJzdF9uaWJibGUgPCAxMCkgewogICAgICAgICAgICBiID0gYi5zdG9yZVVpbnQoZmlyc3RfbmliYmxlICsgNDgsIDgpOyAvLyAwLTkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBiID0gYi5zdG9yZVVpbnQoZmlyc3RfbmliYmxlICsgODcsIDgpOyAvLyBhLWYKICAgICAgICB9CiAgICB9CiAgICByZXBlYXQgKGJpdHMgLyA0KSB7CiAgICAgICAgbGV0IG5pYmJsZTogSW50ID0gc2VsZi5sb2FkVWludCg0KTsKICAgICAgICBpZiAobmliYmxlIDwgMTApIHsKICAgICAgICAgICAgYiA9IGIuc3RvcmVVaW50KG5pYmJsZSArIDQ4LCA4KTsgLy8gMC05CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYiA9IGIuc3RvcmVVaW50KG5pYmJsZSArIDg3LCA4KTsgLy8gYS1mCiAgICAgICAgfQogICAgfQogICAgcmV0dXJuIGIuYXNTbGljZSgpOwp9CgppbmxpbmUgZXh0ZW5kcyBmdW4gdG9faGV4KHNlbGY6IFN0cmluZywgcHJlZml4OiBCb29sKTogU2xpY2UgewogICAgcmV0dXJuIHNlbGYuYXNTbGljZSgpLnRvX2hleChwcmVmaXgpOwp9CgoKLy8vIENvbnZlcnRzIGEgc2hvcnQgc3RyaW5nIHRvIGEgYmFzZTY0dXJsIHN0cmluZy4KLy8vIFRoZSBpbnZlcnNlIG9mIFRhY3QncyBgZnJvbUJhc2U2NGAgZnVuY3Rpb24uCi8vLyBUaGUgaW5wdXQgaXMgcmF3IGRhdGEgYml0cyBpbiBhIGBTbGljZWAuCi8vLyBSZXR1cm5zIGEgYmFzZTY0dXJsIHN0cmluZyBpbiBhIGBTbGljZWAuCmV4dGVuZHMgZnVuIHRvQmFzZTY0KHNlbGY6IFNsaWNlKTogU2xpY2UgewogICAgbGV0IHNpemU6IEludCA9IHNlbGYuYml0cygpIC8gNjsKICAgIHJlcXVpcmUoc2l6ZSA8PSAxMjgsICJTdHJsaWI6OnRvQmFzZTY0OiBCYXNlNjQgc3RyaW5nIHRvbyBsb25nIik7CiAgICBsZXQgcmVzdWx0OiBCdWlsZGVyID0gYmVnaW5DZWxsKCk7CgogICAgcmVwZWF0IChzaXplKSB7CiAgICAgICAgbGV0IGNvZGU6IEludCA9IHNlbGYubG9hZFVpbnQoNik7CiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnN0b3JlVWludChfc3RybGliX3RvX2Jhc2U2NF9jb252ZXJ0KGNvZGUpLCA4KTsKICAgIH0KICAgIC8vIENvbnZlcnQgcmVzaWR1YWwgYml0cwogICAgc2l6ZSA9IHNlbGYuYml0cygpOwogICAgaWYgKHNpemUgPiAwKSB7CiAgICAgICAgbGV0IGNvZGUyOiBJbnQgPSBzZWxmLnByZWxvYWRVaW50KHNpemUpIDw8ICg2IC0gc2l6ZSk7CiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnN0b3JlVWludChfc3RybGliX3RvX2Jhc2U2NF9jb252ZXJ0KGNvZGUyKSwgOCk7CiAgICAgICAgc2l6ZSA9IDQgLSByZXN1bHQuYml0cygpICUgMzIgLyA4OwogICAgfQogICAgLy8gQWRkIHBhZGRpbmcKICAgIHJlcGVhdCAoc2l6ZSkgewogICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zdG9yZVVpbnQoNjEsIDgpOyAvLyBwYWRkaW5nICc9JwogICAgfQogICAgcmV0dXJuIHJlc3VsdC5hc1NsaWNlKCk7Cn0KCmlubGluZSBmdW4gX3N0cmxpYl90b19iYXNlNjRfY29udmVydChjb2RlOiBJbnQpOiBJbnQgewogICAgaWYgKGNvZGUgPCAyNikgewogICAgICAgIHJldHVybiBjb2RlICsgNjU7CiAgICB9IGVsc2UgaWYgKGNvZGUgPj0gMjYgJiYgY29kZSA8IDUyKSB7CiAgICAgICAgcmV0dXJuIGNvZGUgKyA5NyAtIDI2OwogICAgfSBlbHNlIGlmIChjb2RlID49IDUyICYmIGNvZGUgPCA2MikgewogICAgICAgIHJldHVybiBjb2RlICsgNDggLSA1MjsKICAgIH0gZWxzZSBpZiAoY29kZSA9PSA2MikgewogICAgICAgIHJldHVybiA0NTsKICAgIH0gZWxzZSBpZiAoY29kZSA9PSA2MykgewogICAgICAgIHJldHVybiA5NTsKICAgIH0KICAgIHJldHVybiAwOwp9CgovLy8gIyBQYW5pYwovLy8gVGhpcyBjcmMxNiBwYW5pY3MgaWYgdGhlIGlucHV0IGlzIG5vdCBhIG11bHRpcGxlIG9mIDggYml0cy4KZnVuIF9zdHJsaWJfY3JjMTYoZGF0YTogU2xpY2UpOiBJbnQgewogICAgbGV0IHJlZzogSW50ID0gMDsKICAgIGxldCBkOiBTbGljZSA9IGJlZ2luQ2VsbCgpLnN0b3JlU2xpY2UoZGF0YSkuc3RvcmVVaW50KDAsIDE2KS5hc1NsaWNlKCk7CiAgICBsZXQgYml0czogSW50ID0gZC5iaXRzKCk7CiAgICByZXF1aXJlKGJpdHMgJSA4ID09IDAsICJTdHJsaWI6Ol9zdHJsaWJfY3JjMTY6IEludmFsaWQgZGF0YSIpOwogICAgcmVwZWF0IChiaXRzIC8gOCkgewogICAgICAgIGxldCBieXRlOiBJbnQgPSBkLmxvYWRVaW50KDgpOwogICAgICAgIGxldCBtYXNrOiBJbnQgPSAweDgwOwogICAgICAgIHdoaWxlIChtYXNrID4gMCkgewogICAgICAgICAgICByZWcgPSByZWcgPDwgMTsKICAgICAgICAgICAgaWYgKGJ5dGUgJiBtYXNrID4gMCkgewogICAgICAgICAgICAgICAgcmVnID0gcmVnICsgMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBtYXNrID0gbWFzayA+PiAxOwogICAgICAgICAgICBpZiAocmVnID4gMHhGRkZGKSB7CiAgICAgICAgICAgICAgICByZWcgPSByZWcgJiAweEZGRkY7CiAgICAgICAgICAgICAgICByZWcgPSBfc3RybGliX3hvcihyZWcsIDB4MTAyMSk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICByZXR1cm4gcmVnOwp9Cg==","contracts/tonup_tos_registry_v2.tact":"Ly8gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFHUEwtMy4wCi8vIENvcHlyaWdodCAoQykgTWljcm9jb3NtIExhYnMgMjAyMwovLyBBdXRob3JzOiBAMGtlbngKLy8gR2l0SHViOiBodHRwczovL2dpdGh1Yi5jb20vbWljcm9jb3NtLWxhYnMKCmltcG9ydCAiQHN0ZGxpYi9kZXBsb3kiOwppbXBvcnQgIkBzdGRsaWIvb3duYWJsZSI7CmltcG9ydCAiLi91dGlscy90cmFuc2Zlcl9oZWxwZXJzIjsKaW1wb3J0ICIuL3V0aWxzL3N0cmluZyI7CgptZXNzYWdlIENvbnNlbnRSZXBseSB7CiAgICBhZGRyOiBBZGRyZXNzOwogICAgYWNjZXB0ZWQ6IEJvb2w7Cn0KCm1lc3NhZ2UgR2l2ZUNvbnNlbnQgewogICAgYWRkcjogQWRkcmVzczsKICAgIHJlZmVycmVyOiBBZGRyZXNzOwp9CgptZXNzYWdlIFJlc2N1ZUpldHRvbiB7CiAgICBqZXR0b25fd2FsbGV0X2FkZHJlc3M6IEFkZHJlc3M7CiAgICBhbW91bnQ6IEludCBhcyBjb2luczsKICAgIHJlY2VpdmVyOiBBZGRyZXNzOwp9CgovLyBPbi1jaGFpbiBUb1MgcmVnaXN0cnkuIFVzZXJzIG11c3Qgc2lnbiB0aGUgbWVzc2FnZSB3aXRoIGEgMCBUT04gdHJhbnNhY3Rpb24gdG8gdXNlIHRoZSBzZXJ2aWNlcy4KLy8gVGltZXN0YW1wIGFuZCBzaWduYXR1cmUgY2FuIGJlIHJlYWQgb2ZmIGNoYWluLgovLyBJZiB0aGVyZSdzIGFueSB1cGRhdGUgdG8gdGhlIFRvUyB0aGlzIGNvbnRyYWN0IG5lZWRzIHRvIGJlIHJlZGVwbG95ZWQuCi8vIENvbnNlbnQgbWVzc2FnZXM6Ci8vIEkgYWNjZXB0IHRoZSBUb1Mgb2YgVG9uVVAuIFNIQTI1Njo4YTViMjIwLi4zN2I3NWNhLgovLyBJIGFjY2VwdCB0aGUgVG9TIG9mIFRvblVQLiBTSEEyNTY6OGE1YjIyMC4uMzdiNzVjYS4gUmVmZXJyZXI6VVFCZGtjMjFHRGs2cWxqTVQxRDRpVy14U0NIU1NTeVhkdy16ZWZBbXF0cXluZWpICmNvbnRyYWN0IFRvbnVwVG9zUmVnaXN0cnlWMiB3aXRoIERlcGxveWFibGUsIE93bmFibGUgewogICAgY29uc3QgQ1VSUkVOVF9WRVJTSU9OOiBJbnQgPSAyOwogICAgY29uc3QgQ09OU0VOVF9NU0c6IFN0cmluZyA9ICJJIGFjY2VwdCB0aGUgVG9TIG9mIFRvblVQLiBTSEEyNTY6OGE1YjIyMC4uMzdiNzVjYS4iOwogICAgY29uc3QgU1RPUkFHRV9HQVNfUkVTRVJWRTogSW50ID0gdG9uKCIwLjIiKTsKICAgIGNvbnN0IEdBU19DSEVDS19BQ0NFUFQ6IEludCA9IHRvbigiMC4yIik7CiAgICBjb25zdCBHQVNfQ09OU1VNUFRJT046IEludCA9IHRvbigiMC4wMyIpOwogICAgCiAgICBvd25lcjogQWRkcmVzczsKICAgIG51bWJlcl91c2VyczogSW50IGFzIHVpbnQzMiA9IDA7CiAgICAKICAgIGluaXQob3duZXI6IEFkZHJlc3MpIHsKICAgICAgICBzZWxmLm93bmVyID0gb3duZXI7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09IFVzZXIgSW50ZXJmYWNlID09PT09PT09PT09PT09PT09PT09PT09PQoKICAgIC8vLyBVc2VycyBzZW5kIHRoaXMgbWVzc2FnZSB0byBhY2NlcHQgVG9TCiAgICByZWNlaXZlKG1zZzogU3RyaW5nKSB7CiAgICAgICAgcmVxdWlyZShjb250ZXh0KCkudmFsdWUgPj0gc2VsZi5HQVNfQ0hFQ0tfQUNDRVBULCAiTm90IGVub3VnaCBnYXMiKTsKICAgICAgICBpZiAobXNnLnNzX3N0YXJ0c193aXRoKHNlbGYuQ09OU0VOVF9NU0cpKSB7CiAgICAgICAgICAgIGxldCByZWY6IEFkZHJlc3MgPSBuZXdBZGRyZXNzKDAsIDApOwogICAgICAgICAgICBsZXQgczogU2xpY2UgPSBtc2cuYXNTbGljZSgpOwogICAgICAgICAgICBpZiAocy5iaXRzKCkgPT0gODcyKSB7CiAgICAgICAgICAgICAgICBzLnNraXBCaXRzKDQ4OCk7CiAgICAgICAgICAgICAgICBsZXQgcmVmczogU2xpY2UgPSBzLnNzX3BhcnNlX2FkZHJlc3MoKTsKICAgICAgICAgICAgICAgIHJlZiA9IHJlZnMubG9hZEFkZHJlc3MoKTsgIAogICAgICAgICAgICB9CiAgICAgICAgICAgIGxldCB3aW5pdDogU3RhdGVJbml0ID0gc2VsZi51c2VyX2NoaWxkX2luaXQoc2VuZGVyKCkpOwogICAgICAgICAgICBHaXZlQ29uc2VudHsKICAgICAgICAgICAgICAgIGFkZHI6IHNlbmRlcigpLAogICAgICAgICAgICAgICAgcmVmZXJyZXI6IHJlZgogICAgICAgICAgICB9LnRvQ2VsbCgpLnNlbmRfYW5kX2RlcGxveSh3aW5pdCk7CiAgICAgICAgfQogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PSBJbnRlciBDb250cmFjdCBJbnRlcmZhY2UgPT09PT09PT09PT09PT09PT09PT09PT09CiAgICByZWNlaXZlKG1zZzogQ29uc2VudFJlcGx5KSB7CiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLnVzZXJfY2hpbGRfYWRkcmVzcyhtc2cuYWRkciksICJVbmF1dGhvcml6ZWQiKTsKICAgICAgICByZXF1aXJlKG1zZy5hY2NlcHRlZCwgIkNvbnNlbnQgZXJyb3IiKTsKICAgICAgICBzZWxmLm51bWJlcl91c2VycyA9IHNlbGYubnVtYmVyX3VzZXJzICsgMTsKCiAgICAgICAgbGV0IG1zZ192YWx1ZTogSW50ID0gc2VsZi5tc2dfdmFsdWUoY29udGV4dCgpLnZhbHVlKTsgIAogICAgICAgIGxldCBmd2RfZmVlOiBJbnQgPSBjb250ZXh0KCkucmVhZEZvcndhcmRGZWUoKTsKICAgICAgICBtc2dfdmFsdWUgPSBtc2dfdmFsdWUgLSBmd2RfZmVlOwogICAgICAgIHNlbmRfdG9uKG1zZy5hZGRyLCBtc2dfdmFsdWUsIGZhbHNlLCAiUmVmdW5kIEdhcyIuYXNDb21tZW50KCkpOyAKICAgIH0KCiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT0gQWRtaW4gSW50ZXJmYWNlID09PT09PT09PT09PT09PT09PT09PT09PQogICAgLy8gRnVuZCB0aGUgY29udHJhY3QKICAgIHJlY2VpdmUoImZ1bmQgZ2FzIikge30KCiAgICAvLy8gV2l0aGRyYXcgZHVzdAogICAgcmVjZWl2ZSgid2l0aGRyYXcgZHVzdCIpIHsKICAgICAgICBzZWxmLnJlcXVpcmVPd25lcigpOwogICAgICAgIGxldCBkdXN0X3RvX2NsYWltOiBJbnQgPSAwOwogICAgICAgIGR1c3RfdG9fY2xhaW0gPSBteUJhbGFuY2UoKSAtIGNvbnRleHQoKS52YWx1ZSAtIHNlbGYuU1RPUkFHRV9HQVNfUkVTRVJWRTsKICAgICAgICBzZW5kX3RvbihzZWxmLm93bmVyLCBkdXN0X3RvX2NsYWltLCBmYWxzZSwgIldpdGhkcmF3IGR1c3QiLmFzQ29tbWVudCgpKTsKICAgIH0KCiAgICByZWNlaXZlKG1zZzogUmVzY3VlSmV0dG9uKSB7CiAgICAgICAgc2VsZi5yZXF1aXJlT3duZXIoKTsKICAgICAgICBzZW5kX2pldHRvbl90ZXh0KG1zZy5qZXR0b25fd2FsbGV0X2FkZHJlc3MsIG1zZy5yZWNlaXZlciwgbXNnLmFtb3VudCwgMCwgZmFsc2UsICJKZXR0b24gcmVzY3VlIik7CiAgICB9CgogICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09IEludGVybmFsIE1ldGhvZHMgPT09PT09PT09PT09PT09PT09PT09PT09CiAgICBpbmxpbmUgZnVuIHVzZXJfY2hpbGRfYWRkcmVzcyh1c2VyOiBBZGRyZXNzKTogQWRkcmVzcyB7CiAgICAgICAgcmV0dXJuIGNvbnRyYWN0QWRkcmVzcyhpbml0T2YgVG9udXBUb3NWMkNoaWxkKG15QWRkcmVzcygpLCB1c2VyKSk7CiAgICB9CgogICAgaW5saW5lIGZ1biB1c2VyX2NoaWxkX2luaXQodXNlcjogQWRkcmVzcyk6IFN0YXRlSW5pdCB7CiAgICAgICAgcmV0dXJuIGluaXRPZiBUb251cFRvc1YyQ2hpbGQobXlBZGRyZXNzKCksIHVzZXIpOwogICAgfQoKICAgIC8vID09PT09PT09PT09PT09PT09PT09PT09PSBWaWV3IEludGVyZmFjZSA9PT09PT09PT09PT09PT09PT09PT09PT0KCiAgICBnZXQgZnVuIG1zZ192YWx1ZSh2YWx1ZTogSW50KTogSW50IHsKICAgICAgICBsZXQgbXNnX3ZhbHVlOiBJbnQgPSB2YWx1ZTsKICAgICAgICBsZXQgdG9uX2JhbGFuY2VfYmVmb3JlX21zZzogSW50ID0gbXlCYWxhbmNlKCkgLSBtc2dfdmFsdWU7CiAgICAgICAgbGV0IHN0b3JhZ2VfZmVlOiBJbnQgPSBzZWxmLlNUT1JBR0VfR0FTX1JFU0VSVkUgLSBtaW4odG9uX2JhbGFuY2VfYmVmb3JlX21zZywgc2VsZi5TVE9SQUdFX0dBU19SRVNFUlZFKTsKICAgICAgICBtc2dfdmFsdWUgPSBtc2dfdmFsdWUgLSAoc3RvcmFnZV9mZWUgKyBzZWxmLkdBU19DT05TVU1QVElPTik7CiAgICAgICAgcmV0dXJuIG1zZ192YWx1ZTsKICAgIH0KCiAgICBnZXQgZnVuIHVzZXJDaGlsZEFkZHJlc3ModXNlcjogQWRkcmVzcyk6IEFkZHJlc3MgewogICAgICAgIHJldHVybiBzZWxmLnVzZXJfY2hpbGRfYWRkcmVzcyh1c2VyKTsKICAgIH0KCiAgICBnZXQgZnVuIGNvbnNlbnRNZXNzYWdlKCk6IFN0cmluZyB7CiAgICAgICAgcmV0dXJuIHNlbGYuQ09OU0VOVF9NU0c7CiAgICB9CgogICAgZ2V0IGZ1biBjdXJyZW50VmVyc2lvbigpOiBJbnQgewogICAgICAgIHJldHVybiBzZWxmLkNVUlJFTlRfVkVSU0lPTjsKICAgIH0KCiAgICBnZXQgZnVuIG51bWJlclVzZXJzKCk6IEludCB7CiAgICAgICAgcmV0dXJuIHNlbGYubnVtYmVyX3VzZXJzOwogICAgfQoKICAgIGdldCBmdW4gYmFsYW5jZSgpOiBJbnQgewogICAgICAgIHJldHVybiBteUJhbGFuY2UoKTsKICAgIH0KfQoKY29udHJhY3QgVG9udXBUb3NWMkNoaWxkIHsKICAgIGNvbnN0IFNUT1JBR0VfR0FTX1JFU0VSVkU6IEludCA9IHRvbigiMC4wMiIpOwogICAgY29uc3QgR0FTX0NPTlNVTVBUSU9OOiBJbnQgPSB0b24oIjAuMDE1Iik7CgogICAgb3duZXI6IEFkZHJlc3M7CiAgICBtYXN0ZXI6IEFkZHJlc3M7CiAgICByZWZlcnJlcjogQWRkcmVzczsKCiAgICBjb25zZW50X3RpbWU6IEludCBhcyB1aW50NjQgPSAwOwoKICAgIGluaXQobWFzdGVyOiBBZGRyZXNzLCBvd25lcjogQWRkcmVzcykgewogICAgICAgIHNlbGYub3duZXIgPSBvd25lcjsKICAgICAgICBzZWxmLm1hc3RlciA9IG1hc3RlcjsKICAgICAgICBzZWxmLnJlZmVycmVyID0gbmV3QWRkcmVzcygwLCAwKTsKICAgIH0KCiAgICByZWNlaXZlKCJmdW5kIGdhcyIpIHt9CgogICAgcmVjZWl2ZShtc2c6IEdpdmVDb25zZW50KSB7CiAgICAgICAgcmVxdWlyZShzZW5kZXIoKSA9PSBzZWxmLm1hc3RlciwgIlVuYXV0aG9yaXplZCIpOwogICAgICAgIHJlcXVpcmUobXNnLmFkZHIgPT0gc2VsZi5vd25lciwgIlVucmVhY2hhYmxlIik7CiAgICAgICAgcmVxdWlyZShzZWxmLmNvbnNlbnRfdGltZSA9PSAwLCAiQWxyZWFkeSBjb25zZW50ZWQiKTsKICAgICAgICBzZWxmLmNvbnNlbnRfdGltZSA9IG5vdygpOwogICAgICAgIHNlbGYucmVmZXJyZXIgPSBtc2cucmVmZXJyZXI7CiAgICAgICAgbGV0IG1zZ192YWx1ZTogSW50ID0gc2VsZi5tc2dfdmFsdWUoY29udGV4dCgpLnZhbHVlKTsKICAgICAgICBDb25zZW50UmVwbHl7YWRkcjogbXNnLmFkZHIsIGFjY2VwdGVkOiB0cnVlfS50b0NlbGwoKS5yZXBseV92YWx1ZShtc2dfdmFsdWUpOwogICAgfQoKICAgIHJlY2VpdmUoInJlYWQiKSB7CiAgICAgICAgaWYgKHNlbGYuY29uc2VudF90aW1lID4gMCkgewogICAgICAgICAgICBsZXQgY3R4OiBDb250ZXh0ID0gY29udGV4dCgpOwogICAgICAgICAgICBsZXQgZndkX2ZlZTogSW50ID0gY3R4LnJlYWRGb3J3YXJkRmVlKCkgKyBjdHgucmVhZEZvcndhcmRGZWUoKTsgIAogICAgICAgICAgICBsZXQgZmluYWw6IEludCA9ICAyICogc2VsZi5HQVNfQ09OU1VNUFRJT04gKyBzZWxmLlNUT1JBR0VfR0FTX1JFU0VSVkUgKyBmd2RfZmVlOwogICAgICAgICAgICByZXF1aXJlKGN0eC52YWx1ZSA+IG1pbihmaW5hbCwgdG9uKCIwLjAyIikpLCAiSW52YWxpZCB2YWx1ZSEhIik7CiAgICAgICAgICAgIGxldCBtc2dfdmFsdWU6IEludCA9IHNlbGYubXNnX3ZhbHVlKGNvbnRleHQoKS52YWx1ZSk7CiAgICAgICAgICAgIENvbnNlbnRSZXBseXthZGRyOiBzZWxmLm93bmVyLCBhY2NlcHRlZDogdHJ1ZX0udG9DZWxsKCkucmVwbHlfdmFsdWUobXNnX3ZhbHVlKTsKICAgICAgICB9CiAgICB9CgogICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIEdldHRlcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgZ2V0IGZ1biBtc2dfdmFsdWUodmFsdWU6IEludCk6IEludCB7CiAgICAgICAgbGV0IG1zZ192YWx1ZTogSW50ID0gdmFsdWU7CiAgICAgICAgbGV0IHRvbl9iYWxhbmNlX2JlZm9yZV9tc2c6IEludCA9IG15QmFsYW5jZSgpIC0gbXNnX3ZhbHVlOwogICAgICAgIGxldCBzdG9yYWdlX2ZlZTogSW50ID0gc2VsZi5TVE9SQUdFX0dBU19SRVNFUlZFIC0gbWluKHRvbl9iYWxhbmNlX2JlZm9yZV9tc2csIHNlbGYuU1RPUkFHRV9HQVNfUkVTRVJWRSk7CiAgICAgICAgbXNnX3ZhbHVlID0gbXNnX3ZhbHVlIC0gKHN0b3JhZ2VfZmVlICsgc2VsZi5HQVNfQ09OU1VNUFRJT04pOwogICAgICAgIHJldHVybiBtc2dfdmFsdWU7CiAgICB9CgogICAgZ2V0IGZ1biBoYXNBY2NlcHRlZCgpOiBCb29sIHsKICAgICAgICByZXR1cm4gc2VsZi5jb25zZW50X3RpbWUgPiAwOwogICAgfQoKICAgIGdldCBmdW4gY29uc2VudFRpbWUoKTogSW50IHsKICAgICAgICByZXR1cm4gc2VsZi5jb25zZW50X3RpbWU7CiAgICB9CgogICAgZ2V0IGZ1biByZWZlcnJlcigpOiBBZGRyZXNzIHsKICAgICAgICByZXR1cm4gc2VsZi5yZWZlcnJlcjsKICAgIH0KCiAgICBnZXQgZnVuIGJhbGFuY2UoKTogSW50IHsKICAgICAgICByZXR1cm4gbXlCYWxhbmNlKCk7CiAgICB9Cn0K"},"compiler":{"name":"tact","version":"1.1.5","parameters":"{\"entrypoint\":\"contracts/tonup_tos_registry_v2.tact\",\"options\":{}}"}}